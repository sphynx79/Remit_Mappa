(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[,,,function(e,t,n){"use strict";(function(e){n(45),n(17);function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)}var n,i,r;return n=t,(i=[{key:"view",value:function(t){var n=t.attrs;return e.vnode("li",void 0,{className:"bx--accordion__item","data-accordion-item":!0},[e.vnode("button",void 0,{className:"bx--accordion__heading","aria-controls":"pane1","aria-expanded":"false"},[e.vnode("svg",void 0,{className:"bx--accordion__arrow","fill-rule":"evenodd",height:"12",viewBox:"0 0 8 12",width:"8"},[e.vnode("path",void 0,{d:"M0 10.6L4.7 6 0 1.4 1.4 0l6.1 6-6.1 6z"},[],void 0,void 0)],void 0,void 0),e("p.bx--accordion__title.bx--type-epsilon",n.content_title)],void 0,void 0),e(".bx--accordion__content[id='".concat(n.content_id,"']"),e(n.content))],void 0,void 0)}},{key:"oncreate",value:function(e){e.attrs,e.state}}])&&a(n.prototype,i),r&&a(n,r),t})();t.a=i}).call(this,n(0))},function(e,t,n){"use strict";function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return e.addEventListener.apply(e,n),{release:function(){return e.removeEventListener.apply(e,n),null}}}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";function a(e,t){if("function"==typeof e.target.matches){if(e.target.matches(t))return e.target;if(e.target.matches(t+" *")){var n=e.target.closest(t);if(e.currentTarget.contains(n))return n}}}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}})();t.a=function(e){return (function(t){function n(){return (function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n),(function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t})(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return (function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(n,e),a(n,null,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object.assign(Object.create(this.options),n);if(t.nodeType!==Node.ELEMENT_NODE&&t.nodeType!==Node.DOCUMENT_NODE)throw new TypeError("DOM document or DOM element should be given to search for and initialize this widget.");t.nodeType===Node.ELEMENT_NODE&&t.matches(a.selectorInit)?this.create(t,n):[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.querySelectorAll(a.selectorInit))).forEach((function(t){return e.create(t,n)}))}}]),n})()}},function(e,t,n){"use strict";var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}})();t.a=function(e){return (function(t){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n);var a=(function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t})(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));if(a.children=[],!e||e.nodeType!==Node.ELEMENT_NODE)throw new TypeError("DOM element should be given to initialize this widget.");return a.element=e,a.options=Object.assign(Object.create(a.constructor.options),t),a.constructor.components.set(a.element,a),a}return (function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(n,e),a(n,[{key:"release",value:function(){for(var e=this.children.pop();e;e=this.children.pop())e.release();return this.constructor.components.delete(this.element),null}}],[{key:"create",value:function(e,t){return this.components.get(e)||new this(e,t)}}]),n})()}},function(e,t,n){"use strict";function a(e){return e.reduce((function(e,t){return Array.isArray(t)?e.push.apply(e,(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)})(a(t))):e.push(t),e}),[])}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a(t).reduce((function(e,t){return t(e)}),(function(){return function e(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e)}})())}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";t.a={prefix:"bx"}},,,function(e,t,n){"use strict";(function(e){n(42);function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=n(41),r=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)}var n,r,o;return n=t,(r=[{key:"view",value:function(t){t.attrs;return e.vnode("select",void 0,void 0,[],void 0,void 0)}},{key:"oncreate",value:function(e){var t=e.dom;e.select=new i(t,{searchable:!0,multiple:!0,clearable:!0,defaultSelected:!1,closeOnScroll:!1,placeholder:e.attrs.placeholder,data:e.attrs.data.get(),customClass:"custom-style",width:500});var n=document.querySelector("".concat(e.attrs.id));e.select.on("selectr.open",(function(){n&&n.style.setProperty("--space","16rem")})),e.select.on("selectr.close",(function(){n&&n.style.setProperty("--space","4rem")})),e.select.on("selectr.change",(function(t){var n=e.select.getValue();e.attrs.onchange(n)})),e.attrs.data.react((function(t){e.select.removeAllOption(),e.attrs.data.get().map((function(t){return e.select.add(t)}))}))}}])&&a(n.prototype,r),o&&a(n,o),t})();t.a=r}).call(this,n(0))},function(e,t,n){"use strict";(function(e){n(44);function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)}var n,i,r;return n=t,(i=[{key:"view",value:function(t){var n=t.attrs;return e.vnode("div",void 0,{className:"bx--form-item bx--checkbox-wrapper"},[e("input.bx--checkbox[id='".concat(n.id,"'][name='checkbox'][type='checkbox']"),{checked:n.checked,onchange:n.onchange}),e("label.bx--checkbox-label[for='".concat(n.id,"']"),n.label)],void 0,void 0)}},{key:"oncreate",value:function(e){e.attrs,e.state}}])&&a(n.prototype,i),r&&a(n,r),t})();t.a=i}).call(this,n(0))},function(e,t,n){"use strict";var a=(function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}})();function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.a=function(e){return (function(t){function n(){var e,t,a;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,n);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=a=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),a.handles=new Set,i(a,t)}return (function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(n,e),a(n,[{key:"manage",value:function(e){return this.handles.add(e),e}},{key:"unmanage",value:function(e){return this.handles.delete(e),e}},{key:"release",value:function(){var e=this;return this.handles.forEach((function(t){t.release(),e.handles.delete(t)})),(function e(t,n,a){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,a)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(a):void 0})(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"release",this).call(this)}}]),n})()}},,function(e,t,n){"use strict";(function(e){n(49),n(1);function a(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){var n=[],a=!0,i=!1,r=void 0;try{for(var o,c=e[Symbol.iterator]();!(a=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){i=!0,r=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw r}}return n})(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)}var n,r,o;return n=t,(r=[{key:"_clickRow",value:function(e,t){this.activeLine=t,"linee"==this.type?appState.$selectLine.set(e):appState.$selectCentrale.set(e)}},{key:"_header",value:function(e){return Object.keys(e.features[0].properties)}},{key:"_featureValue",value:function(e){return e.features}},{key:"oninit",value:function(e){var t=e.attrs,n=e.state;"linee"==t.type&&(n.volt=t.volt),n.type=t.type,n.activeLine=-1,appState.$data.derive((function(){return n.activeLine=-1}))}},{key:"view",value:function(t){var n=t.attrs,a=t.state;if("linee"==n.type)var i="380"==n.volt?appState.$remit_380.get():appState.$remit_220.get(),r="TRANSMISSION ".concat(n.volt);else i=appState.$remit_centrali.get(),r="Centrali";return i&&0==i.features.length&&(i=void 0),i?e.vnode("div",void 0,{className:"tbl"},[e.vnode("div",void 0,{className:"tbl__header"},[e.vnode("table",void 0,void 0,[e("caption",r),e("thead.thead-".concat(n.type),e("tr",this._header(i).map((function(t){return e("th",{class:t},t)}))))],void 0,void 0)],void 0,void 0),e.vnode("div",void 0,{className:"tbl__content"},[e.vnode("table",void 0,void 0,[e("tbody.tbody-".concat(n.type),this._featureValue(i).map((function(t,n){return e("tr",a.row_attrs(t,n),a.row_values(t))})))],void 0,void 0)],void 0,void 0)],void 0,void 0):e.vnode("div",void 0,void 0,[],void 0,void 0)}},{key:"row_attrs",value:function(e,t){var n=this;return{key:t,className:this.activeLine===t?"active":"",onclick:function(){n._clickRow(e,t)}}}},{key:"row_values",value:function(t){for(var n=[],i=Object.entries(t.properties),r=0;r<i.length;r++){var o=a(i[r],2),c=o[0],l=o[1];n.push(e("td",{class:c},l))}return n}},{key:"oncreate",value:function(e){e.attrs,e.state}}])&&i(n.prototype,r),o&&i(n,o),t})();t.a=r}).call(this,n(0))},function(e,t,n){"use strict";(function(e){n(46);var a=n(29),i=n(28);function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)}var n,o,c;return n=t,(o=[{key:"oninit",value:function(e){e.state;var t=new Date;t.setDate(t.getDate()+1);var n="".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate());appState.$data.set(n)}},{key:"view",value:function(t){t.attrs,t.state;return e.vnode("div",void 0,{className:"bx--form-item"},[e.vnode("div",void 0,{className:"bx--date-picker bx--date-picker--single","data-date-picker":!0,"data-date-picker-type":"single"},[e.vnode("div",void 0,{className:"bx--date-picker-container"},[e(i.a),e.vnode("input",void 0,{className:"bx--date-picker__input","data-date-picker-input":!0,id:"date-picker",pattern:"d{1,2}/d{1,2}/d{4}",placeholder:"dd/mm/yyyy",type:"text"},[],void 0,void 0),e.vnode("div",void 0,{className:"bx--form-requirement"},void 0,"Invalid date format.",void 0)],void 0,void 0)],void 0,void 0)],void 0,void 0)}},{key:"oncreate",value:function(e){var t=e.dom.lastChild;e.picker=a.a.create(t,{dateFormat:"d-m-Y",defaultDate:new Date(appState.$data.get())}),e.picker.calendar.config.onChange.push((function(e,t,n){appState.$data.set(t)}))}}])&&r(n.prototype,o),c&&r(n,c),t})();t.a=o}).call(this,n(0))},function(e,t,n){"use strict";(function(e){n(39);function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)}var n,i,r;return n=t,(i=[{key:"view",value:function(t){var n=t.attrs;return e(".burger",n,[e.vnode("div",void 0,{id:"top"},[],void 0,void 0),e.vnode("div",void 0,{id:"middle"},[],void 0,void 0),e.vnode("div",void 0,{id:"bottom"},[],void 0,void 0)])}},{key:"oncreate",value:function(e){e.attrs,e.state}}])&&a(n.prototype,i),r&&a(n,r),t})();t.a=i}).call(this,n(0))},function(e,t,n){"use strict";(function(e){n(50);var a=n(16),i=n(32);function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)}var n,o,c;return n=t,(o=[{key:"view",value:function(t){var n=t.attrs;return"right"==n.type?e("nav.sidebar#sidebar_right",n,[e(i.a)]):e("nav.sidebar#sidebar_left",n,[e(a.a,{type:"linee",volt:"380"}),e(a.a,{type:"linee",volt:"220"}),e(a.a,{type:"centrali"})])}},{key:"oncreate",value:function(e){e.attrs,e.state}}])&&r(n.prototype,o),c&&r(n,c),t})();t.a=o}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var a=n(12);n(1);function i(e){return (function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}})(e)||(function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)})(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)}var n,o,c;return n=t,(o=[{key:"_fetchData",value:function(){var e=this;return appState.$selectSocieta.derive((function(t){return e._filterValue(t)})).derive((function(t){return e._parseFilter(t)}))}},{key:"_filterValue",value:function(e){return appState.$lista_centrali.get().filter((function(t){return 0==e.length||e.includes(t.company)}))}},{key:"_parseFilter",value:function(e){return i(new Set(e.map((function(e){return e.etso})))).map((function(e){return new Object({value:e,text:e})}))}},{key:"view",value:function(t){t.attrs;var n=t.state;return e(".bx--form-item",void 0===appState.$lista_centrali.get()?"":[e(a.a,{id:"#filtro_unita",placeholder:"Unita",data:n._fetchData(),onchange:function(e){appState.$selectUnita.set(e),appState.unita_visibility(e)}})])}},{key:"oncreate",value:function(e){e.attrs,e.state}}])&&r(n.prototype,o),c&&r(n,c),t})();t.a=o}).call(this,n(0))},function(e,t,n){"use strict";(function(e){n(40);var a=n(3),i=n(20);function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)}var n,o,c;return n=t,(o=[{key:"view",value:function(){return e(a.a,{content:i.a,content_id:"filtro_unita",content_title:"Unita"})}},{key:"oncreate",value:function(e){e.attrs,e.state}}])&&r(n.prototype,o),c&&r(n,c),t})();t.a=o}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var a=n(12);n(1);function i(e){return (function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}})(e)||(function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)})(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)}var n,o,c;return n=t,(o=[{key:"_fetchData",value:function(){var e=this;return appState.$selectUnita.derive((function(t){return e._filterValue(t)})).derive((function(t){return e._parseFilter(t)}))}},{key:"_filterValue",value:function(e){return appState.$lista_centrali.get().filter((function(t){return 0==e.length||e.includes(t.etso)}))}},{key:"_parseFilter",value:function(e){return i(new Set(e.map((function(e){return e.company})))).map((function(e){return new Object({value:e,text:e})}))}},{key:"view",value:function(t){var n=t.state;return e(".bx--form-item",void 0===appState.$lista_centrali.get()?"":[e(a.a,{id:"#filtro_societa",placeholder:"Societa",data:n._fetchData(),onchange:function(e){appState.$selectSocieta.set(e),appState.societa_visibility(e)}})])}},{key:"oncreate",value:function(e){e.attrs,e.state}}])&&r(n.prototype,o),c&&r(n,c),t})();t.a=o}).call(this,n(0))},function(e,t,n){"use strict";(function(e){n(43);var a=n(3),i=n(22);function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)}var n,o,c;return n=t,(o=[{key:"view",value:function(){return e(a.a,{content:i.a,content_id:"filtro_societa",content_title:"Societa"})}},{key:"oncreate",value:function(e){e.attrs,e.state}}])&&r(n.prototype,o),c&&r(n,c),t})();t.a=o}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var a=n(13);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),this.checkboxs=[{label:"Termico",state:appState.termico_visibility},{label:"Eolico",state:appState.eolico_visibility},{label:"Idrico",state:appState.idrico_visibility},{label:"Autoproduttore",state:appState.autoprod_visibility},{label:"Solare",state:appState.solare_visibility},{label:"Pompaggi",state:appState.pompaggi_visibility},{label:"Geotermico",state:appState.geotermico_visibility}]}var n,r,o;return n=t,(r=[{key:"view",value:function(t){t.state;return e.vnode("fieldset",void 0,{className:"bx--fieldset"},[e.vnode.normalize(this.checkboxs.map((function(t){var n=t.label,i="bx--"+n.toLowerCase().replace(" ","-");return e(a.a,{id:i,label:n,checked:t.state(),onchange:function(){t.state(!t.state())}})})))],void 0,void 0)}},{key:"oncreate",value:function(e){e.attrs,e.state}}])&&i(n.prototype,r),o&&i(n,o),t})();t.a=r}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var a=n(3),i=n(24);function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)}var n,o,c;return n=t,(o=[{key:"view",value:function(){return e(a.a,{content:i.a,content_id:"filtro_tecnologia",content_title:"Tecnologia"})}},{key:"oncreate",value:function(e){e.attrs,e.state}}])&&r(n.prototype,o),c&&r(n,c),t})();t.a=o}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var a=n(13);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)}var n,r,o;return n=t,(r=[{key:"oninit",value:function(){this.checkboxs=[{label:"Linee 380",state:appState.$linee_380_visibility},{label:"Linee 220",state:appState.$linee_220_visibility}]}},{key:"view",value:function(t){t.state;return e.vnode("fieldset",void 0,{className:"bx--fieldset"},[e.vnode.normalize(this.checkboxs.map((function(t){var n=t.label,i="bx--"+n.toLowerCase().replace(" ","-");return e(a.a,{id:i,label:n,checked:t.state.get(),onchange:function(){t.state.set(!t.state.get())}})})))],void 0,void 0)}},{key:"oncreate",value:function(e){e.attrs,e.state}}])&&i(n.prototype,r),o&&i(n,o),t})();t.a=r}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var a=n(3),i=n(26);function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)}var n,o,c;return n=t,(o=[{key:"view",value:function(){return e(a.a,{content:i.a,content_id:"filtro_linee",content_title:"Linee"})}},{key:"oncreate",value:function(e){e.attrs,e.state}}])&&r(n.prototype,o),c&&r(n,c),t})();t.a=o}).call(this,n(0))},function(e,t,n){"use strict";(function(e){function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}n.d(t,"a",(function(){return i}));var i=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)}var n,i,r;return n=t,(i=[{key:"view",value:function(t){return e.trust('<svg data-date-picker-icon class="bx--date-picker__icon" width="17" height="19" viewBox="0 0 17 19"><path d="M12 0h2v2.7h-2zM3 0h2v2.7H3z" /><path d="M0 2v17h17V2H0zm15 15H2V7h13v10z" /><path d="M9.9 15H8.6v-3.9H7.1v-.9c.9 0 1.7-.3 1.8-1.2h1v6z" /></svg>')}}])&&a(n.prototype,i),r&&a(n,r),t})()}).call(this,n(0))},function(e,t,n){"use strict";var a=n(15),i=n.n(a),r=n(9),o=n(8),c=n(7),l=n(6),s=n(14),u=n(4),f=(function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}})();function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}i.a.l10ns.en.weekdays.shorthand.forEach((function(e,t){var n=i.a.l10ns.en.weekdays.shorthand;"Thu"===n[t]||"Th"===n[t]?n[t]="Th":n[t]=n[t].charAt(0)}));var d=(function(e){function t(e,n){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var a=(function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t})(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));v.call(a);var i=a.element.getAttribute(a.options.attribType);return a.calendar=a._initDatePicker(i),a.manage(Object(u.a)(a.element,"keydown",(function(e){40===e.which&&a.calendar.calendarContainer.focus()}))),a.manage(Object(u.a)(a.calendar.calendarContainer,"keydown",(function(e){9===e.which&&"range"===i&&(a._updateClassNames(a.calendar),a.element.querySelector(a.options.selectorDatePickerInputFrom).focus())}))),a}return (function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,Object(o["a"])(c["a"],l["a"],s["a"])),f(t,[{key:"_rightArrowHTML",value:function(){return'\n      <svg width="8" height="12" viewBox="0 0 8 12" fill-rule="evenodd">\n        <path d="M0 10.6L4.7 6 0 1.4 1.4 0l6.1 6-6.1 6z"></path>\n      </svg>'}},{key:"_leftArrowHTML",value:function(){return'\n      <svg width="8" height="12" viewBox="0 0 8 12" fill-rule="evenodd">\n        <path d="M7.5 10.6L2.8 6l4.7-4.6L6.1 0 0 6l6.1 6z"></path>\n      </svg>'}},{key:"release",value:function(){if(this.calendar){try{this.calendar.destroy()}catch(e){}this.calendar=null}return (function e(t,n,a){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,a)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(a):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"release",this).call(this)}}],[{key:"options",get:function(){var e=r.a.prefix;return{selectorInit:"[data-date-picker]",selectorDatePickerInput:"[data-date-picker-input]",selectorDatePickerInputFrom:"[data-date-picker-input-from]",selectorDatePickerInputTo:"[data-date-picker-input-to]",selectorDatePickerIcon:"[data-date-picker-icon]",classCalendarContainer:e+"--date-picker__calendar",classMonth:e+"--date-picker__month",classWeekdays:e+"--date-picker__weekdays",classDays:e+"--date-picker__days",classWeekday:e+"--date-picker__weekday",classDay:e+"--date-picker__day",classFocused:e+"--focused",attribType:"data-date-picker-type",dateFormat:"m/d/Y"}}}]),t})();d.components=new WeakMap;var v=function(){var e=this;this._initDatePicker=function(t){var n="single"===t?e.element.querySelector(e.options.selectorDatePickerInput):e.element.querySelector(e.options.selectorDatePickerInputFrom),a=new i.a(n,Object.assign(function(e){var t={};for(var n in e)t[n]=e[n];return t}(e.options),{allowInput:!0,mode:t,onClose:function(i){e._updateClassNames(a),e._updateInputFields(i,t),"range"===t&&(1===a.selectedDates.length?n.focus():e.element.querySelector(e.options.selectorDatePickerInputTo).focus(),e.element.querySelector(e.options.selectorDatePickerInputTo).classList.remove(e.options.classFocused))},onChange:function(){e._updateClassNames(a),"range"===t&&(1===a.selectedDates.length&&a.isOpen?e.element.querySelector(e.options.selectorDatePickerInputTo).classList.add(e.options.classFocused):e.element.querySelector(e.options.selectorDatePickerInputTo).classList.remove(e.options.classFocused))},onMonthChange:function(){e._updateClassNames(a)},onYearChange:function(){e._updateClassNames(a)},onOpen:function(){e._updateClassNames(a)},nextArrow:e._rightArrowHTML(),prevArrow:e._leftArrowHTML()}));return"range"===t&&(e.manage(Object(u.a)(e.element.querySelector(e.options.selectorDatePickerInputTo),"click",(function(){e.element.querySelector(e.options.selectorDatePickerInputTo).focus(),a.open(),e._updateClassNames(a)}))),e._addInputLogic(e.element.querySelector(e.options.selectorDatePickerInputTo))),e.manage(Object(u.a)(e.element.querySelector(e.options.selectorDatePickerIcon),"click",(function(){a.open()}))),e._updateClassNames(a),e._addInputLogic(n),(function(e){var t=e._;return t&&(t.changeEvent&&(t._changeEvent=t.changeEvent),Object.defineProperty(t,"changeEvent",{get:function(){return this._changeEvent},set:function(e){e.detail=Object.assign(e.detail||{},{fromFlatpickr:!0}),this._changeEvent=e}})),e})(a)},this._addInputLogic=function(t){var n=t;e.manage(Object(u.a)(n,"change",(function(t){if(!t.detail||!t.detail.fromFlatpickr){var a=e.calendar.parseDate(n.value);isNaN(a.valueOf())||e.calendar.setDate(a)}e._updateClassNames(e.calendar)})))},this._updateClassNames=function(t){var n=t.calendarContainer;n.classList.add(e.options.classCalendarContainer),n.querySelector(".flatpickr-month").classList.add(e.options.classMonth),n.querySelector(".flatpickr-weekdays").classList.add(e.options.classWeekdays),n.querySelector(".flatpickr-days").classList.add(e.options.classDays),[].concat(p(n.querySelectorAll(".flatpickr-weekday"))).forEach((function(t){var n=t;n.innerHTML=n.innerHTML.replace(/\s+/g,""),n.classList.add(e.options.classWeekday)})),[].concat(p(n.querySelectorAll(".flatpickr-day"))).forEach((function(n){n.classList.add(e.options.classDay),n.classList.contains("today")&&t.selectedDates.length>0?n.classList.add("no-border"):n.classList.contains("today")&&0===t.selectedDates.length&&n.classList.remove("no-border")}))},this._updateInputFields=function(t,n){"range"===n?2===t.length?(e.element.querySelector(e.options.selectorDatePickerInputFrom).value=e._formatDate(t[0]),e.element.querySelector(e.options.selectorDatePickerInputTo).value=e._formatDate(t[1])):1===t.length&&(e.element.querySelector(e.options.selectorDatePickerInputFrom).value=e._formatDate(t[0])):1===t.length&&(e.element.querySelector(e.options.selectorDatePickerInput).value=e._formatDate(t[0])),e._updateClassNames(e.calendar)},this._formatDate=function(t){return e.calendar.formatDate(t,e.calendar.config.dateFormat)}};t.a=d},function(e,t,n){"use strict";(function(e){n(47);var a=n(17),i=n(3);function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)}var n,o,c;return n=t,(o=[{key:"oninit",value:function(e){e.attrs,e.state}},{key:"view",value:function(t){t.attrs,t.state;return e(i.a,{content:a.a,content_id:"filtro_data",content_title:"Data"})}},{key:"oncreate",value:function(e){e.attrs,e.state}}])&&r(n.prototype,o),c&&r(n,c),t})();t.a=o}).call(this,n(0))},function(e,t,n){"use strict";var a=n(9),i=n(8),r=n(7),o=n(6),c=n(14),l=n(5),s=n(4),u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}})();var f=(function(e){function t(e,n){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var a=(function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t})(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.manage(Object(s.a)(a.element,"click",(function(e){var t=Object(l.a)(e,a.options.selectorAccordionItem);t&&!Object(l.a)(e,a.options.selectorAccordionContent)&&a._toggle(t)}))),a._checkIfButton()||a.manage(Object(s.a)(a.element,"keypress",(function(e){Object(l.a)(e,a.options.selectorAccordionItem)&&!Object(l.a)(e,a.options.selectorAccordionContent)&&a._handleKeypress(e)}))),a}return (function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,Object(i["a"])(r["a"],o["a"],c["a"])),u(t,[{key:"_checkIfButton",value:function(){return"BUTTON"===this.element.firstElementChild.firstElementChild.nodeName}},{key:"_handleKeypress",value:function(e){13!==e.which&&32!==e.which||this._toggle(e.target)}},{key:"_toggle",value:function(e){var t=e.querySelector(this.options.selectorAccordionItemHeading),n=t.getAttribute("aria-expanded");null!==n&&t.setAttribute("aria-expanded","true"===n?"false":"true"),e.classList.toggle(this.options.classActive)}}],[{key:"options",get:function(){var e=a.a.prefix;return{selectorInit:"[data-accordion]",selectorAccordionItem:"."+e+"--accordion__item",selectorAccordionItemHeading:"."+e+"--accordion__heading",selectorAccordionContent:"."+e+"--accordion__content",classActive:e+"--accordion__item--active"}}}]),t})();f.components=new WeakMap,t.a=f},function(e,t,n){"use strict";(function(e){n(48);var a=n(31),i=n(30),r=n(27),o=n(25),c=n(23),l=n(21);function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)}var n,u,f;return n=t,(u=[{key:"view",value:function(t){t.attrs,t.state;return e.vnode("div",void 0,{className:"filtri"},[e.vnode("ul",void 0,{className:"bx--accordion","data-accordion":!0},[e(i.a),e(r.a),e(o.a),e(c.a),e(l.a)],void 0,void 0)],void 0,void 0)}},{key:"oncreate",value:function(e){var t=e.dom.firstElementChild;a.a.create(t)}}])&&s(n.prototype,u),f&&s(n,f),t})();t.a=u}).call(this,n(0))},function(e,t,n){"use strict";var a=n(9),i=n(8),r=n(7),o=n(6),c=n(5),l=(function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}})();var s=(function(e){function t(e,n){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var a=(function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t})(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a._getClass=function(e){return{expandable:a.options.classExpandedTile,clickable:a.options.classClickableTile,selectable:a.options.classSelectableTile}[e]},a._hookActions=function(e){var t="expandable"===a.tileType;if(t){var n=a.element.querySelector(a.options.selectorAboveTheFold),i=a.element.ownerDocument.defaultView.getComputedStyle(a.element,null),r=parseInt(i.getPropertyValue("padding-top"),10)+parseInt(i.getPropertyValue("padding-bottom"),10);n&&(a.tileHeight=a.element.getBoundingClientRect().height,a.atfHeight=n.getBoundingClientRect().height+r,a.element.style.maxHeight=a.atfHeight+"px")}a.element.addEventListener("click",(function(n){Object(c.a)(n,a.options.selectorTileInput)||a.element.classList.toggle(e),t&&a._setTileHeight()})),a.element.addEventListener("keydown",(function(n){var i=a.element.querySelector(a.options.selectorTileInput);13!==n.which&&32!==n.which||t||(a.element.classList.toggle(e),i.checked=!i.checked)}))},a._setTileHeight=function(){var e=a.element.classList.contains(a.options.classExpandedTile);a.element.style.maxHeight=e?a.tileHeight+"px":a.atfHeight+"px"},a.tileType=a.element.dataset.tile,a.tileHeight=0,a.atfHeight=0,a._hookActions(a._getClass(a.tileType)),a}return (function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,Object(i["a"])(r["a"],o["a"])),l(t,[{key:"release",value:function(){(function e(t,n,a){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,a)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(a):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"release",this).call(this)}}],[{key:"options",get:function(){var e=a.a.prefix;return{selectorInit:"[data-tile]",selectorAboveTheFold:"[data-tile-atf]",selectorTileInput:"[data-tile-input]",classExpandedTile:e+"--tile--is-expanded",classClickableTile:e+"--tile--is-clicked",classSelectableTile:e+"--tile--is-selected"}}}]),t})();s.components=new WeakMap,t.a=s},function(e,t,n){"use strict";(function(e){n(51);var a=n(33);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),this._legendItem=[{label:"Linee 380",color:"#7FCED8",class:"legend__key--linee"},{label:"Linee 220",color:"#9B02A3",class:"legend__key--linee"},{label:"Tecnologia Termico",color:"#E30202",class:"legend__key--tecno"},{label:"Tecnologia Eolico",color:"#7202E0",class:"legend__key--tecno"},{label:"Tecnologia Idrico",color:"#03A8A8",class:"legend__key--tecno"},{label:"Tecnologia Autoproduttore",color:"#CB689A",class:"legend__key--tecno"},{label:"Tecnologia Solare",color:"#CB6203",class:"legend__key--tecno"},{label:"Tecnologia Pompaggi",color:"#03D838",class:"legend__key--tecno"},{label:"Tecnologia Geotermico",color:"#643201",class:"legend__key--tecno"}]}var n,r,o;return n=t,(r=[{key:"view",value:function(t){t.attrs;return e.vnode("div",void 0,{className:"legend map-overlay bx--tile bx--tile--expandable","data-tile":"expandable",tabindex:"0"},[e.vnode("button",void 0,{className:"bx--tile__chevron"},[e.vnode("svg",void 0,{"fill-rule":"evenodd",height:"8",viewBox:"0 0 12 8",width:"12"},[e.vnode("path",void 0,{d:"M1.4 7.5L6 2.8l4.6 4.7L12 6.1 6 0 0 6.1z"},[],void 0,void 0)],void 0,void 0)],void 0,void 0),e.vnode("div",void 0,{className:"bx--tile-content"},[e.vnode("span",void 0,{className:"bx--tile-content__above-the-fold legend__head bx--type-zeta","data-tile-atf":"Legenda"},void 0,"LEGENDA",void 0),e.vnode.normalize(this._legendItem.map((function(t){var n="legend__key--linee"==t.class?{style:{"background-color":t.color}}:{style:{"border-color":t.color}};return e.vnode("div",void 0,{className:"legend__item"},[e("span.bx--tile-content__below-the-fold.legend__key.".concat(t.class),n),e(".legend__item__label.bx--type-omega",t.label)],void 0,void 0)})))],void 0,void 0)],void 0,void 0)}},{key:"oncreate",value:function(e){var t=e.dom;e.tile=a.a.create(t)}}])&&i(n.prototype,r),o&&i(n,o),t})();t.a=r}).call(this,n(0))},function(e,t,n){"use strict";(function(e){n(52);var a,i=n(10),r=n.n(i),o=n(2),c=n.n(o),l=n(34);n(1);function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var u=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),this._server=window.location.hostname,this._accessToken="pk.eyJ1IjoiYnJvd3NlcmlubyIsImEiOiJjajIzYXRmNnQwMDBuMndwODl1MTdjdG1yIn0.FJ-S1md8BPQtSwTF4SZsMA"}var n,i,o;return n=t,(i=[{key:"handleVisibilityUnita",value:function(){c.a.combine((function(e,t,n,i,r,o,c,l,s){var u=["all"],f=["in","tipo"],p=["in","company"],d=["in","etso"],v=new Map;v.set("TERMICO",e()),v.set("EOLICO",t()),v.set("IDRICO",n()),v.set("AUTOPRODUTTORE",i()),v.set("SOLARE",r()),v.set("POMPAGGIO",o()),v.set("GEOTERMICO",c()),v.forEach((function(e,t){e&&f.push(t)})),u.push(f),l().length>0&&(l().map((function(e){return p.push(e)})),u.push(p)),s().length>0&&(s().map((function(e){return d.push(e)})),u.push(d)),a.setFilter("centrali",u)}),[appState.termico_visibility,appState.eolico_visibility,appState.idrico_visibility,appState.autoprod_visibility,appState.solare_visibility,appState.pompaggi_visibility,appState.geotermico_visibility,appState.societa_visibility,appState.unita_visibility])}},{key:"handleVisibilityLinee",value:function(){appState.$linee_380_visibility.react((function(e){var t=0==e?"none":"visible";["linee-380","linee-380 blur","remit_380"].map((function(e){a.setLayoutProperty(e,"visibility",t)}),{skipFirst:!0})})),appState.$linee_220_visibility.react((function(e){var t=0==e?"none":"visible";["linee-220","linee-220 blur","remit_220"].map((function(e){a.setLayoutProperty(e,"visibility",t)}),{skipFirst:!0})}))}},{key:"handleRefreshRemitLinee",value:function(){appState.$remit_380.react((function(e){a.getSource("remit_380").setData(e)}),{skipFirst:!0}),appState.$remit_220.react((function(e){a.getSource("remit_220").setData(e)}),{skipFirst:!0})}},{key:"handleRefreshRemitCentrali",value:function(){appState.$remit_centrali.react((function(e){a.getSource("remit_centrali").setData(e)}),{skipFirst:!0})}},{key:"handleSelectLine",value:function(){appState.$selectLine.react((function(e){var t=e.geometry.coordinates;!(function(){var e=t[0],n=t[t.length-1],i=[],o=[];e[0]<n[0]?(i[0]=e[0],o[0]=n[0]):(i[0]=n[0],o[0]=e[0]);e[1]<n[1]?(i[1]=e[1],o[1]=n[1]):(i[1]=n[1],o[1]=e[1]);var c=new r.a.LngLatBounds(i,o);a.fitBounds(c,{padding:200,maxZoom:10})})(),(function(){var n=Math.trunc(t.length/2),i=document.getElementsByClassName("mapboxgl-popup");i[0]&&i[0].remove();(new r.a.Popup).setLngLat(t[n]).setHTML("<b>"+e.properties.nome+"</b><br><b>dt_upd: </b>"+e.properties.dt_upd+"<br><b>start_dt: </b>"+e.properties.start_dt+"<br><b>end_dt:  </b>"+e.properties.end_dt+"<br>").addTo(a)})()}),{skipFirst:!0})}},{key:"handleSelectCentrale",value:function(){appState.$selectCentrale.react((function(e){var t=e.geometry.coordinates;a.flyTo({center:t,zoom:12,speed:1.7,curve:1.2,easing:function(e){return e}})}),{skipFirst:!0})}},{key:"initMap",value:function(){r.a.accessToken=this._accessToken,a=new r.a.Map({container:"mapid",style:"mapbox://styles/browserino/cj60wfdfe228u2rmmns6i5bjr?optimize=true",center:[11.88,42.18],zoom:5.7,maxZoom:13,minZoom:5})}},{key:"initRemit",value:function(){a.getLayer("remit_380")||this.addLayerRemitLinee("380"),a.getLayer("remit_220")||this.addLayerRemitLinee("220"),a.getLayer("remit_centrali")||this.addLayerRemitCentrali()}},{key:"loop",value:function(e){!(function t(){e(),setTimeout((function(){requestAnimationFrame(t)}),100)})()}},{key:"enableLineAnimation",value:function(e){var t=0,n=[[0,4,3],[1,4,2],[2,4,1],[3,4,0],[0,1,3,3],[0,2,3,2],[0,3,3,1]];this.loop((function(){t=(t+1)%n.length,a.setPaintProperty(e,"line-dasharray",n[t])}))}},{key:"addLayerRemitLinee",value:function(e){if("380"==e)var t="remit_380",n="#FFFF00",i=appState.$remit_380.get();else t="remit_220",n="#FFFF00",i=appState.$remit_220.get();a.addLayer({id:t,type:"line",source:{type:"geojson",data:i},paint:{"line-color":n,"line-opacity":1,"line-width":{base:1,stops:[[6,2],[14,3]]},"line-dasharray":[0,4,3]}}),this.enableLineAnimation(t)}},{key:"addLayerRemitCentrali",value:function(){var e=appState.$remit_centrali.get(),t=10,n=1,i=n,r=3,o=r;a.addSource("remit_centrali",{type:"geojson",data:e}),a.addLayer({id:"remit_centrali",type:"circle",source:"remit_centrali",paint:{"circle-color":{base:1,type:"categorical",property:"tipo",stops:[["TERMICO","#E0090C"],["EOLICO","#5907AB"],["IDRICO","#04A1A1"],["AUTOPRODUTTORE","#9E577C"],["SOLARE","#9E4F0B"],["POMPAGGIO","#0E952F"],["GEOTERMICO","#7E4F21"]]},"circle-stroke-color":"#FFFF00","circle-stroke-opacity":n,"circle-stroke-width":2,"circle-opacity":1,"circle-radius":{base:1,type:"exponential",property:"pmax",stops:[[{value:0,zoom:4},4],[{value:0,zoom:6},6],[{value:3e3,zoom:6},24],[{value:0,zoom:8},11],[{value:3e3,zoom:8},33],[{value:0,zoom:13},13],[{value:3e3,zoom:13},36]],default:10}}}),(function e(c){setTimeout((function(){requestAnimationFrame(e);var c=a.getZoom(),l=-.06*Math.pow(c,2)+1.14*c-2.68;o+=(l-o)/t,o+=(l-o)/t,(i-=.9/t)<.2&&(i=.2),a.setPaintProperty("remit_centrali","circle-stroke-width",o),a.setPaintProperty("remit_centrali","circle-stroke-opacity",i),.2==i&&(o=r,i=n)}),1e3/t)})()}},{key:"initHoverEffect",value:function(){this.addHoverEffect("380"),this.addHoverEffect("220")}},{key:"addHoverEffect",value:function(e){if("380"==e)var t="hover_380",n="tileset_transmission_380",i="mapbox://browserino.cjcb6ahdv0daq2xnwfxp96z9t-142vr",r="transmission_380",o="linee-380";else t="hover_220",n="tileset_transmission_220",i="mapbox://browserino.cjcfb90n41pub2xp6liaz7quj-69qt1",r="transmission_220",o="linee-220";a.addSource(n,{type:"vector",url:i}),a.addLayer({id:t,type:"line",source:n,layout:{},interactive:!0,"source-layer":r,maxzoom:13,paint:{"line-color":"#88CC55","line-width":3},filter:["==","nome",""]}),a.on("mouseover",o,(function(e){a.getCanvas().style.cursor="pointer";var n=[[e.point.x-5,e.point.y-5],[e.point.x+5,e.point.y+5]],i=a.queryRenderedFeatures(n,{layers:[o]});if(i.length)if(i.length){a.getCanvas().style.cursor="pointer";var r=i[0];a.setFilter(t,["==","nome",r.properties.nome])}else a.setFilter(t,["==","nome",""])})),a.on("mouseout",o,(function(){a.getCanvas().style.cursor="",a.setFilter(t,["==","nome",""])}))}},{key:"initShowPopUp",value:function(){this.addShowPopUp("380"),this.addShowPopUp("220")}},{key:"addShowPopUp",value:function(e){if("380"==e)var t="linee-380";else t="linee-220";a.on("click",(function(e){var n=[[e.point.x-5,e.point.y-5],[e.point.x+5,e.point.y+5]],i=a.queryRenderedFeatures(n,{layers:[t]});if(i.length){var o=i[0];new r.a.Popup({offset:[0,-5]}).setLngLat(e.lngLat).setHTML("<b>"+o.properties.nome+"</b><br><b>From: </b>"+o.properties.p1+"<br><b>To: </b>"+o.properties.p2+"<br><b>Lunghezza: </b>"+o.properties.lunghezza+"<br><b>Voltage: </b>"+o.properties.voltage+"<br>").addTo(a)}}))}},{key:"view",value:function(t){var n=t.attrs;return e("#mapid",n,e(l.a))}},{key:"oncreate",value:function(e){var t=this;e.attrs,e.state;this.initMap(),a.on("load",(function(){t.initRemit(),t.initHoverEffect(),t.initShowPopUp(),t.handleVisibilityLinee(),t.handleVisibilityUnita(),t.handleRefreshRemitLinee(),t.handleRefreshRemitCentrali()})),this.handleSelectLine(),this.handleSelectCentrale()}}])&&s(n.prototype,i),o&&s(n,o),t})();t.a=u}).call(this,n(0))},function(e,t,n){"use strict";(function(e){var a=n(35);function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)}var n,r,o;return n=t,(r=[{key:"view",value:function(t){var n=t.attrs;return e("#main",n,e(a.a))}},{key:"oncreate",value:function(e){e.attrs,e.state}}])&&i(n.prototype,r),o&&i(n,o),t})();t.a=r}).call(this,n(0))},function(e,t,n){"use strict";(function(e){function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var a=(function(){function t(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t)}var a,i,r;return a=t,(i=[{key:"_toggleSideBar",value:function(e){"left"==e?appState.sidebarLeft=!appState.sidebarLeft:appState.sidebarRight=!appState.sidebarRight}},{key:"_hideSideBar",value:function(){appState.sidebarLeft&&appState.dispatch("hideSidebar",["left"]),appState.sidebarRight&&appState.dispatch("hideSidebar",["right"])}},{key:"view",value:function(t){var n=t.attrs,a=t.state;return e.vnode("div",void 0,{id:"layout"},[e(n.sidebarLeft,{class:(appState.sidebarLeft?"active":"")+" left",type:"left"}),e(n.burgerLeft,{class:(appState.sidebarLeft?"active":"")+" left",onclick:function(){a._toggleSideBar("left")}}),e(n.sidebarRight,{class:(appState.sidebarRight?"active":"")+" right",type:"right"}),e(n.burgerRight,{class:(appState.sidebarRight?"active":"")+" right",onclick:function(){a._toggleSideBar("right")}}),e(n.remitTransmission)],void 0,void 0)}},{key:"oncreate",value:function(e){e.attrs,e.state}}])&&n(a.prototype,i),r&&n(a,r),t})();t.a=a}).call(this,n(0))},function(e,t,n){"use strict";n.r(t);n(59),n(58),n(53)},function(e,t){},function(e,t){},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";(function(e){var t=n(37),a=n(36),i=n(19),r=n(18);e.route.prefix(""),e.route(document.getElementById("app"),"/",{"/":{render:function(){return e(t.a,{remitTransmission:a.a,sidebarLeft:i.a,burgerLeft:r.a,sidebarRight:i.a,burgerRight:r.a})}}})}).call(this,n(0))},,,,,function(e,t,n){"use strict";(function(e){var t=n(2),a=n.n(t),i=n(1);function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=(function(){function t(){var e=this;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),this._modelName=this.constructor.name,this.server=window.location.hostname,this.port=80,this.sidebarLeft=!1,this.sidebarRight=!1,this.$data=Object(i.a)(),this.$selectLine=Object(i.a)(),this.$selectCentrale=Object(i.a)(),this.$linee_380_visibility=Object(i.a)(!0),this.$linee_220_visibility=Object(i.a)(!0),this.termico_visibility=a()(!0),this.eolico_visibility=a()(!0),this.idrico_visibility=a()(!0),this.autoprod_visibility=a()(!0),this.solare_visibility=a()(!0),this.pompaggi_visibility=a()(!0),this.geotermico_visibility=a()(!0),this.societa_visibility=a()([]),this.unita_visibility=a()([]),this.$lista_centrali=Object(i.a)(this.fetchCentrali()),this.$selectSocieta=Object(i.a)([]),this.$selectUnita=Object(i.a)([]),this.$remit_220=Object(i.a)(),this.$remit_380=Object(i.a)(),this.$remit_centrali=Object(i.a)(),this.$data.react((function(t){var n="http://".concat(e.server,":").concat(e.port,"/api/remits/").concat(t,"/220"),a="http://".concat(e.server,":").concat(e.port,"/api/remits/").concat(t,"/380"),i="http://".concat(e.server,":").concat(e.port,"/api/remits_centrali/").concat(t);e.getRemit(n),e.getRemit(a),e.getRemit(i)}),{skipFirst:!0})}var n,o,c;return n=t,(o=[{key:"dispatch",value:function(e,t){this[e].apply(this,t||[])}},{key:"fetchCentrali",value:function(){var t=this;e.request({method:"GET",url:"http://".concat(this.server,":").concat(this.port,"/api/lista_centrali")}).then((function(e){t.$lista_centrali.set(e)})).catch((function(e){console.log("Errore richiesta json lista centrali",e)}))}},{key:"getRemit",value:function(t){var n=this;e.request({method:"GET",url:t}).then((function(e){switch(t){case String(t.match(/.*remits_centrali.*/)):n.$remit_centrali.set(e);break;case String(t.match(/.*\/remits\/.*\/220/)):n.$remit_220.set(e);break;case String(t.match(/.*\/remits\/.*\/380/)):n.$remit_380.set(e);break;default:console.log("Didn't match")}})).catch((function(e){console.log("Errore richiesta json remit  ".concat(t),e)}))}}])&&r(n.prototype,o),c&&r(n,c),t})();window.appState=new o}).call(this,n(0))},function(e,t){},function(e,t,n){e.exports=n(38)}],[[60,0,1]]]);