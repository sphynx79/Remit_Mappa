(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(t,e,i){"use strict";(function(t,a){i(248);var o=i(34),r=i(215),s=i(216);e.a=class{constructor(){}oninit({state:t}){appState.$data.react(t=>{let e=`${appState.protocolo}://${appState.server}:${appState.port}/api/v1/remits/${t}/linee/220`,i=`${appState.protocolo}://${appState.server}:${appState.port}/api/v1/remits/${t}/linee/380`,a=`${appState.protocolo}://${appState.server}:${appState.port}/api/v1/remits/${t}/centrali`;appState.dispatch("getRemit",[e]),appState.dispatch("getRemit",[i]),appState.dispatch("getRemit",[a])})}view({attrs:e,state:i}){return t(".bx--form-item",[t(".bx--date-picker.bx--date-picker--single[data-date-picker=''][data-date-picker-type='single']",t(".bx--date-picker-container",[t(s.a),t("input.bx--date-picker__input[data-date-picker-input=''][id='date-picker'][pattern='d{1,2}/d{1,2}/d{4}'][placeholder='dd/mm/yyyy'][type='text']"),t(".bx--number__controls",[t(".bx--number__control-btn.up-icon",{onclick:()=>this.changeData(1)},t("svg[fill-rule='evenodd'][height='5'][viewBox='0 0 10 5'][width='10']",t("path[d='M0 5L5 .002 10 5z']"))),t(".bx--number__control-btn.down-icon",{onclick:()=>this.changeData(-1)},t("svg[fill-rule='evenodd'][height='5'][viewBox='0 0 10 5'][width='10']",t("path[d='M0 0l5 4.998L10 0z']")))])]))])}changeData(t){let e=a(appState.$data.get()).add(t,"day"),i=e.format("DD-MM-YYYY"),o=e.format("YYYY-MM-DD");this.picker.calendar.setDate(i),appState.$data.set(o)}oncreate(t){let e=t.dom.lastChild;t.picker=o.c.create(e,{dateFormat:"d-m-Y",locale:r.Italian,defaultDate:new Date(appState.$data.get().replace(/-/g,"/"))}),t.picker.calendar.config.onChange.push((t,e,i)=>{appState.$data.set(a(t).format("YYYY-MM-DD"))}),t.state.picker=t.picker}}}).call(this,i(6),i(72))},125:function(t,e,i){"use strict";(function(t,a,o){i(244);var r=i(93),s=i(213),n=i(233),l=i(71);e.a=class{constructor(){}_getRemit(e){return t.request({method:"GET",url:e})}oninit({state:t}){let e=a(()=>o(appState.$data.get()).subtract(6,"month").format("DD-MM-YYYY")),i=a(()=>o(appState.$data.get()).add(1,"month").format("DD-MM-YYYY")),r=a(()=>o(appState.$data.get()).subtract(6,"day").format("DD-MM-YYYY")),s=a(()=>o(appState.$data.get()).add(1,"day").format("DD-MM-YYYY"));t.$remitCentraliTecnologiaDaily=a(()=>t._getRemit(`${appState.protocolo}://${appState.server}:${appState.port}/api/v1/reports/${e.get()}/${i.get()}/centrali_tecnologia_daily${appState.cache}`)),t.$remitCentraliTecnologiaHourly=a(()=>t._getRemit(`${appState.protocolo}://${appState.server}:${appState.port}/api/v1/reports/${r.get()}/${s.get()}/centrali_tecnologia_hourly${appState.cache}`)),t.$remitCentraliZonaDaily=a(()=>t._getRemit(`${appState.protocolo}://${appState.server}:${appState.port}/api/v1/reports/${e.get()}/${i.get()}/centrali_zona_daily${appState.cache}`)),t.$remitCentraliZonaHourly=a(()=>t._getRemit(`${appState.protocolo}://${appState.server}:${appState.port}/api/v1/reports/${r.get()}/${s.get()}/centrali_zona_hourly${appState.cache}`))}view({attrs:e,state:i}){return"right"==e.type?t("nav.sidebar#sidebar_right",e,[void 0===appState.$lista_centrali.get()?"":t(s.a)]):t("nav.sidebar#sidebar_left",e,[t(n.a),t(".sidebar__content-wrapper#tabelle",[void 0===appState.$remit_380.get()?"":t(r.a,{type:"linee",volt:"380",remit:appState.$remit_380}),void 0===appState.$remit_220.get()?"":t(r.a,{type:"linee",volt:"220",remit:appState.$remit_220}),void 0===appState.$remit_centrali.get()?"":t(r.a,{type:"centrali",remit:appState.$remitCentraliFiltered})]),t(".sidebar__content-wrapper#grafici",[t(l.a,{elId:"grafico-remit-tecnologia-daily",title:"Totale indisponibilità programmate lungo termine per tecnologia",data:i.$remitCentraliTecnologiaDaily}),t(l.a,{elId:"grafico-remit-tecnologia-hourly",title:"Totale indisponibilità programmate breve termine per tecnologia",data:i.$remitCentraliTecnologiaHourly}),t(l.a,{elId:"grafico-remit-zona-daily",title:"Totale indisponibilità programmate lungo termine per zona",data:i.$remitCentraliZonaDaily}),t(l.a,{elId:"grafico-remit-zona-hourly",title:"Totale indisponibilità programmate breve termine per zona",data:i.$remitCentraliZonaHourly})])])}oncreate({attrs:t,state:e}){document.getElementById("grafici").setAttribute("hidden","")}}}).call(this,i(6),i(22).derive,i(72))},126:function(t,e,i){"use strict";(function(t){i(561);e.a=class{constructor(){}view({attrs:e}){return t(".burger",e,[t("#top"),t("#middle"),t("#bottom")])}oncreate({attrs:t,state:e}){}}}).call(this,i(6))},16:function(t,e,i){"use strict";(function(t){i(249),i(124);e.a=class{constructor(){}view({attrs:e}){return t("li.bx--accordion__item[data-accordion-item='']",[t("button.bx--accordion__heading[aria-controls='pane1'][aria-expanded='false']",[t("svg.bx--accordion__arrow[fill-rule='evenodd'][height='12'][viewBox='0 0 8 12'][width='8']",t("path[d='M0 10.6L4.7 6 0 1.4 1.4 0l6.1 6-6.1 6z']")),t("p.bx--accordion__title.bx--type-epsilon",e.content_title)]),t(`.bx--accordion__content[id='${e.content_id}']`,t(e.content))])}oncreate({attrs:t,state:e}){}}}).call(this,i(6))},207:function(t,e,i){"use strict";(function(t){e.a=class{constructor(){}_toggleSideBar(t){"left"==t?appState.sidebarLeft=!appState.sidebarLeft:appState.sidebarRight=!appState.sidebarRight}_hideSideBar(){appState.sidebarLeft&&appState.dispatch("hideSidebar",["left"]),appState.sidebarRight&&appState.dispatch("hideSidebar",["right"])}view({attrs:e,state:i}){return t("#layout",[t(e.sidebarLeft,{class:(appState.sidebarLeft?"active":"")+" left",type:"left"}),t(e.burgerLeft,{class:(appState.sidebarLeft?"active":"")+" left",onclick:()=>{i._toggleSideBar("left")}}),t(e.sidebarRight,{class:(appState.sidebarRight?"active":"")+" right",type:"right"}),t(e.burgerRight,{class:(appState.sidebarRight?"active":"")+" right",onclick:()=>{i._toggleSideBar("right")}}),t(e.remitTransmission)])}oncreate({attrs:t,state:e}){}}}).call(this,i(6))},208:function(t,e,i){"use strict";(function(t){var a=i(209);e.a=class{constructor(){}view({attrs:e}){return t("#main",e,t(a.a))}oncreate({attrs:t,state:e}){}}}).call(this,i(6))},209:function(t,e,i){"use strict";(function(t,a,o,r){i(242);var s,n=i(210);e.a=class{constructor(){this._server=window.location.hostname,this._accessToken="pk.eyJ1IjoiYnJvd3NlcmlubyIsImEiOiJjajIzYXRmNnQwMDBuMndwODl1MTdjdG1yIn0.FJ-S1md8BPQtSwTF4SZsMA"}handleVisibilityUnita(){appState.$etsoVisibility.react(t=>{let e=["in","nome"],i=["in","etso"];t.length>0&&t.map(t=>{e.push(t),i.push(t)}),s.setFilter("centrali",i),s.setFilter("remit_centrali",e)},{skipFirst:!0})}handleVisibilityLinee(){appState.$linee_380_visibility.react(t=>{let e=0==t?"none":"visible";["linee-380","linee-380 blur","remit_380"].map(t=>{s.setLayoutProperty(t,"visibility",e)},{skipFirst:!0})}),appState.$linee_220_visibility.react(t=>{let e=0==t?"none":"visible";["linee-220","linee-220 blur","remit_220"].map(t=>{s.setLayoutProperty(t,"visibility",e)},{skipFirst:!0})})}handleRefreshRemitLinee(){appState.$remit_380.react(t=>{s.getSource("remit_380").setData(t)},{skipFirst:!0}),appState.$remit_220.react(t=>{s.getSource("remit_220").setData(t)},{skipFirst:!0})}handleRefreshRemitCentrali(){appState.$remit_centrali.react(t=>{s.getSource("remit_centrali").setData(t)},{skipFirst:!0})}handleSelectLine(){appState.$selectLine.react(t=>{let e=t.geometry.coordinates;!function(){let t=e[0],i=e[e.length-1],a=[],o=[];t[0]<i[0]?(a[0]=t[0],o[0]=i[0]):(a[0]=i[0],o[0]=t[0]),t[1]<i[1]?(a[1]=t[1],o[1]=i[1]):(a[1]=i[1],o[1]=t[1]);let r=new mapboxgl.LngLatBounds(a,o);s.fitBounds(r,{padding:200,maxZoom:10})}(),function(){let i=Math.trunc(e.length/2),a=document.getElementsByClassName("mapboxgl-popup");a[0]&&a[0].remove(),(new mapboxgl.Popup).setLngLat(e[i]).setHTML("<b>"+t.nome+"</b><br><b>update: </b>"+t.update+"<br><b>start: </b>"+t.start+"<br><b>end:  </b>"+t.end+"<br>").addTo(s)}()},{skipFirst:!0})}handleSelectCentrale(){appState.$selectCentrale.react(t=>{let e=t.geometry.coordinates;s.flyTo({center:e,zoom:12,speed:1.7,curve:1.2,easing:t=>t})},{skipFirst:!0})}handleResetZoom(){document.querySelector("button.mapboxgl-ctrl-icon.mapboxgl-ctrl-compass").addEventListener("click",()=>{s.flyTo({center:[11.88,42.13],zoom:5.6,bearing:0,pitch:0,speed:1.2,curve:1.1,easing:function(t){return t}})},!1)}initMap(){mapboxgl.accessToken=this._accessToken,s=new mapboxgl.Map({container:"mapid",style:"mapbox://styles/browserino/cjhpwzyrx3ymw2smgsezxdwra",center:[11.88,42.13],zoom:5.6,maxZoom:13,minZoom:5.3});let t=new mapboxgl.NavigationControl;s.addControl(t,"bottom-right")}initRemit(){s.getLayer("remit_380")||this.addLayerRemitLinee("380"),s.getLayer("remit_220")||this.addLayerRemitLinee("220"),s.getLayer("remit_centrali")||this.addLayerRemitCentrali()}initAnimation(){let e=[[0,4,3],[1,4,2],[2,4,1],[3,4,0],[0,1,3,3],[0,2,3,2],[0,3,3,1]],i=100,r=0,n=0,l=e.length,c=20,p=3,d=p,m=1,h=m,u=t(5.6),g=a(()=>{let t=u.get();return-.06*Math.pow(t,2)+1.14*t-2.68});s.on("zoom",()=>u.set(s.getZoom())),o.setSimulationTimestep(70),o.setUpdate(function(t){(r+=t/i)>=l&&(r=0),d+=(g.get()-d)/c,(h-=.9/c)<.2&&(d=p,h=m)}).setDraw(function(t){let i=parseInt(r);n!=i&&(s.setPaintProperty("remit_380","line-dasharray",e[i]),s.setPaintProperty("remit_220","line-dasharray",e[i]),n=i),s.setPaintProperty("remit_centrali","circle-stroke-width",d),s.setPaintProperty("remit_centrali","circle-stroke-opacity",h)}).start()}addLayerRemitLinee(t){if("380"==t)var e="remit_380",i="#FFFF00",a=appState.$remit_380.get();else e="remit_220",i="#FFFF00",a=appState.$remit_220.get();s.addLayer({id:e,type:"line",source:{type:"geojson",data:void 0===a?{type:"FeatureCollection",features:[]}:a},paint:{"line-color":i,"line-opacity":1,"line-width":{base:1,stops:[[6,2],[14,3]]},"line-dasharray":[0,4,3]}})}addLayerRemitCentrali(){var t=appState.$remit_centrali.get();s.addSource("remit_centrali",{type:"geojson",data:void 0===t?{type:"FeatureCollection",features:[]}:t}),s.addLayer({id:"remit_centrali",type:"circle",source:"remit_centrali",paint:{"circle-color":{base:1,type:"categorical",property:"tipo",stops:[["TERMICO","#E0090C"],["EOLICO","#5907AB"],["IDRICO","#04A1A1"],["AUTOPRODUTTORE","#9E577C"],["SOLARE","#9E4F0B"],["POMPAGGIO","#0E952F"],["GEOTERMICO","#7E4F21"]]},"circle-stroke-color":"#FFFF00","circle-stroke-opacity":1,"circle-stroke-width":2,"circle-opacity":1,"circle-radius":{base:1,type:"exponential",property:"pmax",stops:[[{value:0,zoom:4},4],[{value:0,zoom:6},6],[{value:3e3,zoom:6},24],[{value:0,zoom:8},11],[{value:3e3,zoom:8},33],[{value:0,zoom:13},13],[{value:3e3,zoom:13},36]],default:10}}})}initHoverEffect(){this.addHoverEffect("380"),this.addHoverEffect("220")}addHoverEffect(t){if("380"==t)var e="hover_380",i="tileset_transmission_380",a="mapbox://browserino.cjcb6ahdv0daq2xnwfxp96z9t-142vr",o="transmission_380",r="linee-380";else e="hover_220",i="tileset_transmission_220",a="mapbox://browserino.cjcfb90n41pub2xp6liaz7quj-69qt1",o="transmission_220",r="linee-220";s.addSource(i,{type:"vector",url:a}),s.addLayer({id:e,type:"line",source:i,layout:{},interactive:!0,"source-layer":o,maxzoom:13,paint:{"line-color":"#88CC55","line-width":3},filter:["==","nome",""]}),s.on("mouseover",r,function(t){s.getCanvas().style.cursor="pointer";var i=[[t.point.x-5,t.point.y-5],[t.point.x+5,t.point.y+5]],a=s.queryRenderedFeatures(i,{layers:[r]});if(a.length)if(a.length){s.getCanvas().style.cursor="pointer";let t=a[0];s.setFilter(e,["==","nome",t.properties.nome])}else s.setFilter(e,["==","nome",""])}),s.on("mouseout",r,function(){s.getCanvas().style.cursor="",s.setFilter(e,["==","nome",""])})}initShowPopUp(){this.addShowPopUp("380"),this.addShowPopUp("220"),this.addShowPopUp("centrale")}addShowPopUp(t){if("380"==t)var e="linee-380";else e="220"==t?"linee-220":"centrali";s.on("click",function(t){var i=[[t.point.x-2,t.point.y-2],[t.point.x+2,t.point.y+2]],a=s.queryRenderedFeatures(i,{layers:[e]});if(!a.length)return;let o=function(t){if("centrali"==t.layer.id)var e="<b>"+t.properties.etso+"</b><br><b>Company: </b>"+t.properties.company+"<br><b>Impianto: </b>"+t.properties.impianto+"<br><b>Operatore: </b>"+t.properties.operatore+"<br><b>Proprietario: </b>"+t.properties.proprietario+"<br><b>Localita: </b>"+t.properties.localita+"<br><b>Tecnologia: </b>"+t.properties.tipo+" ("+t.properties.sottotipo+")<br><b>Sottotipo: </b>"+t.properties.sottotipo+"<br><b>Msd: </b>"+t.properties.msd+"<br><b>Pmin: </b>"+t.properties.pmin+"<br><b>Pmax: </b>"+t.properties.pmax+"<br>";else var e="<b>"+t.properties.nome+"</b><br><b>From: </b>"+t.properties.p1+"<br><b>To: </b>"+t.properties.p2+"<br><b>Lunghezza: </b>"+t.properties.lunghezza+"<br><b>Voltage: </b>"+t.properties.voltage+"<br>";return e}(a[0]);new mapboxgl.Popup({offset:[0,-5]}).setLngLat(t.lngLat).setHTML(o).addTo(s)})}view({attrs:t}){return r("#mapid",t,r(n.a))}oncreate({attrs:t,state:e}){this.initMap(),s.on("load",()=>{this.initRemit(),this.initHoverEffect(),this.initShowPopUp(),this.handleVisibilityLinee(),this.handleVisibilityUnita(),this.handleRefreshRemitLinee(),this.handleRefreshRemitCentrali(),this.initAnimation()}),this.handleSelectLine(),this.handleSelectCentrale(),this.handleResetZoom()}}}).call(this,i(22).atom,i(22).derive,i(241),i(6))},210:function(t,e,i){"use strict";(function(t){i(243);var a=i(34);e.a=class{constructor(){this._legendItem=[{label:"Linee 380",color:"#7FCED8",class:"legend__key--linee"},{label:"Linee 220",color:"#9B02A3",class:"legend__key--linee"},{label:"Termico",color:"#E30202",class:"legend__key--tecno"},{label:"Eolico",color:"#7202E0",class:"legend__key--tecno"},{label:"Idrico",color:"#03A8A8",class:"legend__key--tecno"},{label:"Autoproduttore",color:"#CB689A",class:"legend__key--tecno"},{label:"Solare",color:"#CB6203",class:"legend__key--tecno"},{label:"Pompaggi",color:"#03D838",class:"legend__key--tecno"},{label:"Geotermico",color:"#643201",class:"legend__key--tecno"}]}view({attrs:e}){return t(".legend.map-overlay.bx--tile.bx--tile--expandable[data-tile='expandable'][tabindex='0']",[t("button.bx--tile__chevron",t("svg[fill-rule='evenodd'][height='8'][viewBox='0 0 12 8'][width='12']",t("path[d='M1.4 7.5L6 2.8l4.6 4.7L12 6.1 6 0 0 6.1z']"))),t(".bx--tile-content",[t("span.bx--tile-content__above-the-fold.legend__head.bx--type-zeta[data-tile-atf='Legenda']","LEGENDA"),this._legendItem.map(e=>{let i="legend__key--linee"==e.class?{style:{"background-color":e.color}}:{style:{"border-color":e.color}};return t(".legend__item",[t(`span.bx--tile-content__below-the-fold.legend__key.${e.class}`,i),t(".legend__item__label.bx--type-omega",e.label)])})])])}oncreate(t){let e=t.dom;t.tile=a.d.create(e)}}}).call(this,i(6))},213:function(t,e,i){"use strict";(function(t){i(246);var a=i(34),o=i(214),r=i(217),s=i(219),n=i(222),l=i(225),c=i(227),p=i(229),d=i(231);e.a=class{constructor(){}view({attrs:e,state:i}){return t(".filtri",[t("ul.bx--accordion[data-accordion='']",[t(o.a),t(r.a),t(s.a),t(n.a),t(l.a),t(c.a),t(p.a),t(d.a)])])}oncreate(t){let e=t.dom.firstElementChild;a.a.create(e)}}}).call(this,i(6))},214:function(t,e,i){"use strict";(function(t){i(247);var a=i(124),o=i(16);e.a=class{constructor(){}oninit({attrs:t,state:e}){}view({attrs:e,state:i}){return t(o.a,{content:a.a,content_id:"filtro_data",content_title:"Data"})}oncreate({attrs:t,state:e}){}}}).call(this,i(6))},216:function(t,e,i){"use strict";(function(t){i.d(e,"a",function(){return a});class a{view(e){return t.trust('<svg data-date-picker-icon class="bx--date-picker__icon" width="17" height="19" viewBox="0 0 17 19"><path d="M12 0h2v2.7h-2zM3 0h2v2.7H3z" /><path d="M0 2v17h17V2H0zm15 15H2V7h13v10z" fill-rule="nonzero" /><path d="M9.9 15H8.6v-3.9H7.1v-.9c.9 0 1.7-.3 1.8-1.2h1v6z" fill-rule="nonzero" /></svg>')}}}).call(this,i(6))},217:function(t,e,i){"use strict";(function(t){i(250);var a=i(16),o=i(218);e.a=class{constructor(){}view(){return t(a.a,{content:o.a,content_id:"filtro_linee",content_title:"Linee"})}oncreate({attrs:t,state:e}){}}}).call(this,i(6))},218:function(t,e,i){"use strict";(function(t){var a=i(91);e.a=class{constructor(){}oninit(){this.checkboxs=[{label:"Linee 380",state:appState.$linee_380_visibility},{label:"Linee 220",state:appState.$linee_220_visibility}]}view({state:e}){return t("fieldset.bx--fieldset",[this.checkboxs.map(e=>{let i=e.label,o="bx--"+i.toLowerCase().replace(" ","-");return t(a.a,{id:o,label:i,checked:e.state.get(),onchange:()=>{e.state.set(!e.state.get())}})})])}oncreate({attrs:t,state:e}){}}}).call(this,i(6))},219:function(t,e,i){"use strict";(function(t){i(252);var a=i(16),o=i(220);e.a=class{constructor(){}view(){return t(a.a,{content:o.a,content_id:"filtro_tecnologia",content_title:"Tecnologia"})}oncreate({attrs:t,state:e}){}}}).call(this,i(6))},220:function(t,e,i){"use strict";(function(t){var a=i(91),o=i(221);e.a=class{constructor(){}oninit(){this.tecnologies=[{label:"Termico",stateChk:appState.$termicoVisibility,statePminPmax:appState.$termicoPminPmax,range:{min:0,max:1200},step:[0,200,400,600,800,1e3,1200]},{label:"Idrico",stateChk:appState.$idricoVisibility,statePminPmax:appState.$idricoPminPmax,range:{min:0,max:1200},step:[0,200,400,600,800,1e3,1200]},{label:"Eolico",stateChk:appState.$eolicoVisibility,statePminPmax:appState.$eolicoPminPmax,range:{min:0,max:300},step:[0,50,100,150,200,250,300]},{label:"Autoproduttore",stateChk:appState.$autoprodVisibility,statePminPmax:appState.$autoprodPminPmax,range:{min:0,max:300},step:[0,50,100,150,200,250,300]},{label:"Solare",stateChk:appState.$solareVisibility,statePminPmax:appState.$solarePminPmax,range:{min:0,max:300},step:[0,50,100,150,200,250,300]},{label:"Geotermico",stateChk:appState.$geotermicoVisibility,statePminPmax:appState.$geotermicoPminPmax,range:{min:0,max:300},step:[0,50,100,150,200,250,300]},{label:"Pompaggio",stateChk:appState.$pompaggiVisibility,statePminPmax:appState.$pompaggiPminPmax,range:{min:-1300,max:1300},step:[-1300,-850,-400,0,400,850,1300]}]}view({state:e}){return t("fieldset.bx--fieldset",[this.tecnologies.map(e=>{let i=e.label,r="bx--chechbox__"+i.toLowerCase(),s="bx--slider__"+i.toLowerCase();return t(".bx--form-item",[t(a.a,{id:r,label:i,checked:e.stateChk.get(),onchange:()=>e.stateChk.set(!e.stateChk.get())}),t(o.a,{id:s,pminpmax:e.statePminPmax,range:e.range,step:e.step,onchange:t=>e.statePminPmax.set(t)})])})])}oncreate({attrs:t,state:e}){}}}).call(this,i(6))},221:function(t,e,i){"use strict";(function(t,a){i(254);e.a=class{constructor(){}view({attrs:e}){return t(`.slider[id='${e.id}']`)}oncreate({attrs:t,state:e}){e.range=document.getElementById(`${t.id}`);for(var i=a.create(e.range,{start:t.pminpmax.get(),connect:!0,tooltips:!0,step:1,range:t.range,pips:{mode:"values",values:t.step,density:4,stepped:!0},format:{to:function(t){return parseInt(t)},from:function(t){return parseInt(t)}}}),o=e.range.querySelectorAll(".noUi-value"),r=0;r<o.length;r++)o[r].style.cursor="pointer",o[r].addEventListener("click",t=>this.clickOnPip(t));i.on("set",e=>{t.onchange(e)})}clickOnPip(t){var e=Number(t.target.getAttribute("data-value"));this.range.noUiSlider.set(e)}}}).call(this,i(6),i(253))},222:function(t,e,i){"use strict";(function(t){i(255);var a=i(16),o=i(223);e.a=class{constructor(){}view(){return t(a.a,{content:o.a,content_id:"filtro_msd",content_title:"Unità Abilitata MSD"})}oncreate({attrs:t,state:e}){}}}).call(this,i(6))},223:function(t,e,i){"use strict";(function(t,a){var o=i(224);e.a=class{constructor(){}oninit({state:e}){e.combos=["ALL","SI","NO"],e.$filterOpt=t({get:()=>appState.dispatch("parseFilterMsd",[appState.$filterMsd.get()]),set:t=>appState.$msdComboValue.set(t)})}view({state:t}){return a(".bx--form-item",a(".bx--radio-button-group",{onchange:e=>t.$filterOpt.set(e.target.value)},t.combos.map(e=>{let i="bx--"+e.toLowerCase();return a(o.a,{id:i,label:e,state:this.checkenabled()?"":"[disabled=true]",checked:t.$filterOpt.get()===e||""})})))}checkenabled(){return 2==[...new Set(appState.filterTecnologia().map(t=>t.msd))].length}oncreate({attrs:t,state:e}){}}}).call(this,i(22).lens,i(6))},224:function(t,e,i){"use strict";(function(t){e.a=class{constructor(){}view({attrs:e}){return t("div",[t(`input.bx--radio-button[checked='${e.checked}']${e.state}[id='${e.id}'][name='radio-button'][tabindex='0'][type='radio'][value='${e.label}']`),t(`label.bx--radio-button__label[for='${e.id}']`,[t("span.bx--radio-button__appearance"),e.label])])}oncreate({attrs:t,state:e}){}}}).call(this,i(6))},225:function(t,e,i){"use strict";(function(t){i(256);var a=i(16),o=i(226);e.a=class{constructor(){}view(){return t(a.a,{content:o.a,content_id:"filtro_sottotipo",content_title:"Sottotipo"})}oncreate({attrs:t,state:e}){}}}).call(this,i(6))},226:function(t,e,i){"use strict";(function(t,a){var o=i(33);e.a=class{constructor(){}oninit({state:e}){e.id="sottotipo",e.$filterOpt=t({get:()=>appState.dispatch("parseFilter",[appState.$filterSottotipo.get(),e.id]),set:t=>appState.$selectSottotipo.set(t)})}view({state:t}){return a(".bx--form-item",[a(o.a,{id:"#filtro_sottotipo",placeholder:"Sottotipo",data:t.$filterOpt,onchange:e=>t.$filterOpt.set(e)})])}oncreate({attrs:t,state:e}){}}}).call(this,i(22).lens,i(6))},227:function(t,e,i){"use strict";(function(t){i(259);var a=i(16),o=i(228);e.a=class{constructor(){}view(){return t(a.a,{content:o.a,content_id:"filtro_societa",content_title:"Societa"})}oncreate({attrs:t,state:e}){}}}).call(this,i(6))},228:function(t,e,i){"use strict";(function(t,a){var o=i(33);e.a=class{constructor(){}oninit({state:e}){e.id="company",e.$filterOpt=t({get:()=>appState.dispatch("parseFilter",[appState.$filterSocieta.get(),e.id]),set:t=>appState.$selectSocieta.set(t)})}view({state:t}){return a(".bx--form-item",[a(o.a,{id:"#filtro_societa",placeholder:"Societa",data:t.$filterOpt,onchange:e=>t.$filterOpt.set(e)})])}oncreate({attrs:t,state:e}){}}}).call(this,i(22).lens,i(6))},229:function(t,e,i){"use strict";(function(t){i(260);var a=i(16),o=i(230);e.a=class{constructor(){}view(){return t(a.a,{content:o.a,content_id:"filtro_impianto",content_title:"Impianto"})}oncreate({attrs:t,state:e}){}}}).call(this,i(6))},230:function(t,e,i){"use strict";(function(t,a){var o=i(33);e.a=class{constructor(){}oninit({state:e}){e.id="impianto",e.$filterOpt=t({get:()=>appState.dispatch("parseFilter",[appState.$filterImpianto.get(),e.id]),set:t=>appState.$selectImpianto.set(t)})}view({state:t}){return a(".bx--form-item",[a(o.a,{id:"#filtro_impianto",placeholder:"Impianto",data:t.$filterOpt,onchange:e=>t.$filterOpt.set(e)})])}oncreate({attrs:t,state:e}){}}}).call(this,i(22).lens,i(6))},231:function(t,e,i){"use strict";(function(t){i(261);var a=i(16),o=i(232);e.a=class{constructor(){}view(){return t(a.a,{content:o.a,content_id:"filtro_unita",content_title:"Unita"})}oncreate({attrs:t,state:e}){}}}).call(this,i(6))},232:function(t,e,i){"use strict";(function(t,a){var o=i(33);e.a=class{constructor(){}oninit({state:e}){e.id="etso",e.$filterOpt=t({get:()=>appState.dispatch("parseFilter",[appState.$filterUnita.get(),e.id]),set:t=>appState.$selectUnita.set(t)})}view({attrs:t,state:e}){return a(".bx--form-item",[a(o.a,{id:"#filtro_unita",placeholder:"Unita",data:e.$filterOpt,onchange:t=>e.$filterOpt.set(t)})])}oncreate({attrs:t,state:e}){}}}).call(this,i(22).lens,i(6))},233:function(t,e,i){"use strict";(function(t){i(262);var a=i(34);e.a=class{constructor(){this._componentName=this.constructor.name}view(e){return t("#sidebar__switch.bx--content-switcher[aria-label='switch content'][data-content-switcher=''][role='tablist']",[t("button.bx--content-switcher-btn.bx--content-switcher--selected[data-target='#tabelle'][role='tab']",[t("svg.bx--content-switcher__icon[height='20'][viewBox='0 0 24 20'][width='24'][xmlns='http://www.w3.org/2000/svg']",t("path[d='M.452.473v18.739h23.156V.473zm8.194 3.565h6.767v2.505H8.646zm7.323.025H23V6.52h-7.031zM1.086 4.09H7.96v2.408H1.086zm7.402 2.986h7.031v2.457H8.488zm-7.402.048h6.662v2.505H1.086zm14.935.026h7.032v2.456H16.02zm0 2.89h7.032v2.457H16.02zm-7.56.096h7.032v2.457H8.46zm-7.56.048h7.032v2.457H.9zm.106 2.987h7.031v2.457H1.007zm7.56 0h7.031v2.457h-7.03zm7.507 0h7.032v2.457h-7.032zm-7.401 2.986h7.031v2.457H8.673zm7.454 0h7.032v2.457h-7.032zm-15.173.049h7.032v2.456H.954z'][fill-rule='evenodd'][stroke='#000'][stroke-width='.054']"))]),t("button.bx--content-switcher-btn[data-target='#grafici'][role='tab']",[t("svg.bx--content-switcher__icon[height='20'][viewBox='0 0 24 20'][width='24'][xmlns='http://www.w3.org/2000/svg']",t("g[stroke='#000'][stroke-linecap='round']",[t("path[d='M.7 296.216h18.616'][fill='none'][stroke-width='.656'][transform='matrix(1.21336 0 0 1.36967 -.064 -386.593)']"),t("path[d='M1.738 295.839l.043-5.84h1.863l.086 5.968'][fill='none'][stroke-linejoin='round'][stroke-miterlimit='11.7'][stroke-width='.509'][transform='matrix(1.21336 0 0 1.36967 -.064 -386.593)']"),t("path[d='M5.985 285.436H8.09v10.722H5.985z'][fill='#000001'][fill-opacity='.696'][fill-rule='evenodd'][stroke-linejoin='round'][stroke-miterlimit='11.7'][stroke-width='.509'][transform='matrix(1.21336 0 0 1.36967 -.064 -386.593)']"),t("path[d='M10.959 287.694h2.233v8.406h-2.233z'][fill='none'][stroke-linejoin='round'][stroke-miterlimit='11.7'][stroke-width='.517'][transform='matrix(1.21336 0 0 1.36967 -.064 -386.593)']"),t("path[d='M15.874 282.9h2.152v13.215h-2.152z'][fill-opacity='.624'][fill-rule='evenodd'][stroke-linejoin='round'][stroke-miterlimit='11.7'][stroke-width='.507'][transform='matrix(1.21336 0 0 1.36967 -.064 -386.593)']")]))])])}oncreate(t){let e=t.dom;a.b.create(e)}}}).call(this,i(6))},234:function(t,e,i){t.exports=i(562)},235:function(t,e,i){},236:function(t,e,i){(function(t,e,i,a){window.appState=new class{constructor(){this._modelName=this.constructor.name,this.server=window.location.hostname,this.cache=/cache=(true|false)/.exec(window.location.href)?`?${/cache=(true|false)/.exec(window.location.href)[0]}`:"?cache=true",console.log(this.cache),this.port=window.location.port,this.protocolo=[80,9292].includes(this.port)||"http:"===location.protocol?"http":"https",console.log(`Adress: ${this.protocolo}://${this.server}:${this.port}`),this.sidebarLeft=!1,this.sidebarRight=!1,this.$data=t(e().add(1,"day").format("YYYY-MM-DD")),this.$selectLine=t(),this.$selectCentrale=t(),this.$linee_380_visibility=t(!0),this.$linee_220_visibility=t(!0),this.$termicoVisibility=t(!0),this.$eolicoVisibility=t(!0),this.$idricoVisibility=t(!0),this.$autoprodVisibility=t(!0),this.$solareVisibility=t(!0),this.$pompaggiVisibility=t(!0),this.$geotermicoVisibility=t(!0),this.$termicoPminPmax=t([0,1200]),this.$eolicoPminPmax=t([0,300]),this.$idricoPminPmax=t([0,1200]),this.$autoprodPminPmax=t([0,300]),this.$solarePminPmax=t([0,300]),this.$pompaggiPminPmax=t([-1300,1300]),this.$geotermicoPminPmax=t([0,300]),this.$msdComboValue=t("ALL"),this.$lista_centrali=t(this.fetchCentrali()),this.$filterMsd=i(()=>this.filterMsd(this.filterTecnologia(),this.$msdComboValue.get())),this.$filterSottotipo=i(()=>this.$filterMsd.get()),this.$selectSottotipo=t([]),this.$filterSocieta=i(()=>this.filterUnita(this.$filterSottotipo.get(),this.$selectSottotipo.get(),"sottotipo")),this.$selectSocieta=t([]),this.$filterImpianto=i(()=>this.filterUnita(this.$filterSocieta.get(),this.$selectSocieta.get(),"company")),this.$selectImpianto=t([]),this.$filterUnita=i(()=>this.filterUnita(this.$filterImpianto.get(),this.$selectImpianto.get(),"impianto")),this.$selectUnita=t([]),this.$unitaVisibility=i(()=>this.filterUnita(this.$filterUnita.get(),this.$selectUnita.get(),"etso")),this.$etsoVisibility=i(()=>this.$unitaVisibility.get().map(t=>t.etso)),this.$remit_220=t(),this.$remit_380=t(),this.$remit_centrali=t(),this.$remitCentraliFiltered=i(()=>this.filterRemitCentrali())}dispatch(t,e){return this[t].apply(this,e||[])}filterTecnologia(){if(void 0===this.$lista_centrali.get())return[];let t=[];this.$termicoVisibility.get()&&t.push({tipo:"TERMICO",pmin:this.$termicoPminPmax.get()[0],pmax:this.$termicoPminPmax.get()[1]}),this.$eolicoVisibility.get()&&t.push({tipo:"EOLICO",pmin:this.$eolicoPminPmax.get()[0],pmax:this.$eolicoPminPmax.get()[1]}),this.$idricoVisibility.get()&&t.push({tipo:"IDRICO",pmin:this.$idricoPminPmax.get()[0],pmax:this.$idricoPminPmax.get()[1]}),this.$autoprodVisibility.get()&&t.push({tipo:"AUTOPRODUTTORE",pmin:this.$autoprodPminPmax.get()[0],pmax:this.$autoprodPminPmax.get()[1]}),this.$solareVisibility.get()&&t.push({tipo:"SOLARE",pmin:this.$solarePminPmax.get()[0],pmax:this.$solarePminPmax.get()[1]}),this.$pompaggiVisibility.get()&&t.push({tipo:"POMPAGGIO",pmin:this.$pompaggiPminPmax.get()[0],pmax:this.$pompaggiPminPmax.get()[1]}),this.$geotermicoVisibility.get()&&t.push({tipo:"GEOTERMICO",pmin:this.$geotermicoPminPmax.get()[0],pmax:this.$geotermicoPminPmax.get()[1]});let e=t.length,i=this.$lista_centrali.get(),a=i.length,o=[];for(let r=0;r<a;r++){let a=i[r];for(let i=0;i<e;i++){let e=t[i],r="POMPAGGIO"===a.tipo?a.pmin:a.pmax;if(a.tipo===e.tipo&&r>=e.pmin&&a.pmax<=e.pmax){o.push(a);break}}}return o}filterUnita(t,e,i){if(0==e.length)return t;let a=[],o=t.length;for(let r=0;r<o;r++){let o=t[r];-1!=e.indexOf(o[i])&&a.push(o)}return a}filterRemitCentrali(){let t=this.$remit_centrali.get();if(void 0===t)return;let e=this.$etsoVisibility.get();return t.features.filter(t=>e.includes(t.properties.nome))}parseFilter(t,e){return[...new Set(t.map(t=>t[e]))].map(t=>new Object({value:t,text:t}))}filterMsd(t,e){return"ALL"==e?t:t.filter(t=>t.msd==e)}parseFilterMsd(t){let e=[...new Set(t.map(t=>t.msd))];return 2==e.length?"ALL":e[0]}fetchCentrali(){a.request({method:"GET",url:`${this.protocolo}://${this.server}:${this.port}/api/v1/units`}).then(t=>{this.$lista_centrali.set(t)}).catch(t=>{console.log("Errore richiesta json lista centrali",t)})}getRemit(t){a.request({method:"GET",url:t}).then(e=>{switch(t){case String(t.match(/.*\/remits\/.*\/centrali/)):this.$remit_centrali.set(e);break;case String(t.match(/.*\/remits\/.*\/linee\/220/)):this.$remit_220.set(e);break;case String(t.match(/.*\/remits\/.*\/linee\/380/)):this.$remit_380.set(e);break;default:console.log("Didn't match")}}).catch(e=>{console.log(`Errore richiesta json remit  ${t}`,e)})}}}).call(this,i(22).atom,i(72),i(22).derive,i(6))},240:function(t,e,i){"use strict";(function(t){var e=i(207),a=i(208),o=i(125),r=i(126);t.route.prefix(""),t.route(document.getElementById("app"),"/",{"/":{render:()=>t(e.a,{remitTransmission:a.a,sidebarLeft:o.a,burgerLeft:r.a,sidebarRight:o.a,burgerRight:r.a})}})}).call(this,i(6))},242:function(t,e,i){},243:function(t,e,i){},244:function(t,e,i){},245:function(t,e,i){},246:function(t,e,i){},247:function(t,e,i){},248:function(t,e,i){},249:function(t,e,i){},250:function(t,e,i){},251:function(t,e,i){},252:function(t,e,i){},254:function(t,e,i){},255:function(t,e,i){},256:function(t,e,i){},257:function(t,e,i){},259:function(t,e,i){},260:function(t,e,i){},261:function(t,e,i){},262:function(t,e,i){},33:function(t,e,i){"use strict";(function(t){i(257);const a=i(258);e.a=class{constructor(){}view({attrs:e}){return t("select")}oncreate(t){let e=t.dom;t.select=new a(e,{searchable:!0,multiple:!0,clearable:!0,defaultSelected:!1,closeOnScroll:!1,placeholder:t.attrs.placeholder,data:t.attrs.data.get(),customClass:"custom-style",width:500});let i=document.querySelector(`${t.attrs.id}`);t.select.on("selectr.open",()=>{i&&i.style.setProperty("--space","16rem")}),t.select.on("selectr.close",()=>{i&&i.style.setProperty("--space","4rem")}),t.select.on("selectr.change",e=>{let i=t.select.getValue();t.attrs.onchange(i)}),t.attrs.data.react(e=>{t.select.removeAll(),t.select.add(e)})}}}).call(this,i(6))},560:function(t,e,i){},561:function(t,e,i){},562:function(t,e,i){"use strict";i.r(e);i(235),i(236),i(240)},71:function(t,e,i){"use strict";(function(t,a,o){i(560);e.a=class{constructor(){this._componentName=this.constructor.name}_Option(){let t=(t=>{switch(this.elId){case"grafico-remit-tecnologia-daily":return this._remitTecnologiaDailyOption();case"grafico-remit-tecnologia-hourly":return this._remitTecnologiaHourlyOption();case"grafico-remit-zona-daily":return this._remitZonaDailyOption();case"grafico-remit-zona-hourly":return this._remitZonaHourlyOption();default:console.log("Invalid choice")}})(),e={dataset:{dimensions:[],source:[]},backgroundColor:this.background,title:this.title,animationDuration:800,animationEasing:"elasticOut",calculable:!0,grid:{borderWidth:1,top:90,bottom:10,height:"40%",width:"84%",textStyle:{color:"#90979c"}},tooltip:{trigger:"axis",backgroundColor:"#2b2b2bed",textStyle:{fontSize:10},padding:2,position:function(t){return[t[0]+4,t[1]-4]},axisPointer:{type:"cross",label:{backgroundColor:"#2b2b2bd6",fontSize:8,shadowColor:"#25252599",shadowBlur:10},crossStyle:{type:"solid",color:"rgba(230, 230, 230, 0.6)",textStyle:{backgroundColor:"rgba(0, 0, 0, 0.9)",fontSize:8}}}},legend:{top:"34px",itemWidth:18,itemHeight:8,padding:15,formatter:t=>t[0].toUpperCase()+t.slice(1),textStyle:{color:"#F4F5F5",fontWeight:"bold",fontSize:10}},toolbox:{show:!0,right:130,top:10,showTitle:!1,feature:{mark:{show:!0},dataView:{show:!1,readOnly:!1,title:"Data View",lang:["Data View","Close","Refresh"]},magicType:{show:!1,type:["line","bar"],title:{line:"Switch Line Chart",bar:"Switch Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{show:!1,title:"Restore"},saveAsImage:{show:!0,title:"Save Image",lang:["Right Click to Save Image"]}}},dataZoom:[{type:"slider",realtime:!1,xAxisIndex:0,start:70,end:100,bottom:"10",backgroundColor:"rgba(47,69,84,0)",borderColor:"rgba(250,250,250,0.5)",fillerColor:"rgba(47,69,84,0.3)",dataBackground:{lineStyle:{color:"#000000"},areaStyle:{color:"#FFF"}}},{type:"inside",xAxisIndex:0,start:0,end:100}],yAxis:{name:"MWh",type:"value",splitNumber:8,nameGap:20,minInterval:40,nameTextStyle:{color:"#DADBDD",fontSize:10,padding:[0,0,0,-30]},axisTick:{show:!0,lineStyle:{color:"#DADBDD"}},axisLine:{symbol:["none","arrow"],symbolSize:[8,14],symbolOffset:[0,11],lineStyle:{color:"#DADBDD"}},axisLabel:{color:"#DADBDD",fontSize:10},splitLine:{show:!0,lineStyle:{color:"#8B8E94",type:"dashed"}}}};return Object.assign(e,t)}_remitTecnologiaDailyOption(){return{xAxis:{name:"Data",type:"category",nameGap:0,nameTextStyle:{color:"#DADBDD",fontSize:10,padding:[0,0,-24,0]},splitLine:{show:!1,lineStyle:{color:"#B2B4B8"}},axisLine:{onZero:!1,symbol:["none","arrow"],symbolSize:[8,14],symbolOffset:[0,12],lineStyle:{color:"#DADBDD"}},axisTick:{show:!0,lineStyle:{color:"#DADBDD"}},axisLabel:{color:function(e,i){return t(appState.$data.get()).format("DD-MM-YYYY")==e.substring(0,10)?"#5aaafa":"#DADBDD"},fontSize:9,rotate:45}},series:[]}}_remitTecnologiaHourlyOption(){return{xAxis:{name:"Data-Ora",type:"category",nameGap:0,boundaryGap:!1,nameTextStyle:{color:"#DADBDD",fontSize:10,padding:[0,0,-24,0]},splitLine:{show:!1,lineStyle:{color:"#B2B4B8"}},axisLine:{onZero:!1,symbol:["none","arrow"],symbolSize:[8,14],symbolOffset:[0,12],lineStyle:{color:"#DADBDD"}},axisTick:{show:!0,lineStyle:{color:"#DADBDD"}},axisLabel:{color:function(e,i){return t(appState.$data.get()).format("DD-MM-YYYY")==e.substring(0,10)?"#5aaafa":"#DADBDD"},fontSize:9,rotate:45,formatter:function(t){let e,i=t.match(/(\d+)-(\d+)-(\d+)\s+(\d+)/);return e="00"==i[4]?`${i[1]}-${i[2]}-${i[3]}`:`${i[4]}`}}},dataZoom:[{type:"slider",realtime:!1,xAxisIndex:0,start:50,end:100,bottom:"10",backgroundColor:"rgba(47,69,84,0)",borderColor:"rgba(250,250,250,0.5)",fillerColor:"rgba(47,69,84,0.3)",dataBackground:{lineStyle:{color:"#000000"},areaStyle:{color:"#FFF"}}},{type:"inside",xAxisIndex:0,start:0,end:100}],series:[]}}_remitZonaDailyOption(){return{xAxis:{name:"Data",type:"category",boundaryGap:!1,nameTextStyle:{color:"#DADBDD",fontSize:10,padding:[0,0,-24,0]},splitLine:{show:!0,lineStyle:{color:"#B2B4B8"}},axisLine:{symbol:["none","arrow"],symbolSize:[8,14],symbolOffset:[0,12],lineStyle:{color:"#DADBDD"}},axisTick:{show:!0,lineStyle:{color:"#DADBDD"}},axisLabel:{color:function(e,i){return t(appState.$data.get()).format("DD-MM-YYYY")==e.substring(0,10)?"#5aaafa":"#DADBDD"},fontSize:9,rotate:45}},series:[],color:["#ADED5F","#3ABDEC","#F0563C","#3A8E78","#FD8E32","#F93B1C","#6AB015","#2C81A5","#BE2A14","#245749","#c4ccd3"]}}_remitZonaHourlyOption(){return{xAxis:{name:"Data-Ora",type:"category",nameGap:0,nameTextStyle:{color:"#DADBDD",fontSize:10,padding:[0,0,-24,0]},splitLine:{show:!1,lineStyle:{color:"#B2B4B8"}},axisLine:{onZero:!1,symbol:["none","arrow"],symbolSize:[8,14],symbolOffset:[0,12],lineStyle:{color:"#DADBDD"}},axisTick:{show:!0,lineStyle:{color:"#DADBDD"}},axisLabel:{color:function(e,i){return t(appState.$data.get()).format("DD-MM-YYYY")==e.substring(0,10)?"#5aaafa":"#DADBDD"},fontSize:9,rotate:45,formatter:function(t){let e,i=t.match(/(\d+)-(\d+)-(\d+)\s+(\d+)/);return e="00"==i[4]?`${i[1]}-${i[2]}-${i[3]}`:`${i[4]}`}}},dataZoom:[{type:"slider",realtime:!1,xAxisIndex:0,start:50,end:100,bottom:"10",backgroundColor:"rgba(47,69,84,0)",borderColor:"rgba(250,250,250,0.5)",fillerColor:"rgba(47,69,84,0.3)",dataBackground:{lineStyle:{color:"#000000"},areaStyle:{color:"#FFF"}}},{type:"inside",xAxisIndex:0,start:0,end:100}],series:[],color:["#ADED5F","#3ABDEC","#F0563C","#3A8E78","#FD8E32","#F93B1C","#6AB015","#2C81A5","#BE2A14","#245749","#c4ccd3"]}}_Series(){return(t=>{switch(this.elId){case"grafico-remit-tecnologia-daily":return this._remitTecnologiaDailySeries();case"grafico-remit-tecnologia-hourly":return this._remitTecnologiaHourlySeries();case"grafico-remit-zona-daily":return this._remitZonaDailySeries();case"grafico-remit-zona-hourly":return this._remitZonaHourlySeries();default:console.log("Invalid choice")}})()}_remitTecnologiaDailySeries(){return this.dimensions.slice(1,this.dimensions.length).map(t=>({type:"bar",stack:"1",symbolSize:1,showSymbol:!0,barMaxWidth:14,barCategoryGap:"20%",animationDuration:600,emphasis:{itemStyle:{shadowColor:"rgba(0, 0, 0, 1)",shadowOffsetX:3,symbolSize:5,color:new a.graphic.LinearGradient(0,0,1,0,[{offset:0,color:this.colors[`${t}EmphasisColor2`]},{offset:.5,color:this.colors[`${t}EmphasisColor2`]},{offset:1,color:this.colors[`${t}EmphasisColor1`]}])}},itemStyle:{normal:{label:{show:!1},barBorderWidth:"0.4",barBorderColor:"#000",opacity:1,shadowColor:"rgba(0, 0, 0, 0.7)",shadowBlur:6,shadowOffsetX:2,color:new a.graphic.LinearGradient(0,0,1,0,[{offset:0,color:this.colors[`${t}Color1`]},{offset:.5,color:this.colors[`${t}Color2`]},{offset:1,color:this.colors[`${t}Color1`]}])}},areaStyle:{normal:{opacity:.75}}}))}_remitTecnologiaHourlySeries(){return this.dimensions.slice(1,this.dimensions.length).map(t=>({type:"line",symbolSize:1,showSymbol:!0,barMaxWidth:14,barCategoryGap:"20%",animationDuration:600,barGap:"90%",emphasis:{itemStyle:{shadowColor:"rgba(0, 0, 0, 1)",shadowOffsetX:2,symbolSize:2,color:new a.graphic.LinearGradient(0,0,1,0,[{offset:0,color:this.colors[`${t}EmphasisColor2`]},{offset:.5,color:this.colors[`${t}EmphasisColor2`]},{offset:1,color:this.colors[`${t}EmphasisColor1`]}])}},itemStyle:{normal:{label:{show:!1},barBorderWidth:"0.4",barBorderColor:"#000",opacity:1,shadowColor:"rgba(0, 0, 0, 0.7)",shadowBlur:6,shadowOffsetX:2,color:new a.graphic.LinearGradient(0,0,1,0,[{offset:0,color:this.colors[`${t}Color1`]},{offset:.5,color:this.colors[`${t}Color2`]},{offset:1,color:this.colors[`${t}Color1`]}])}}}))}_remitZonaDailySeries(){return this.dimensions.slice(1,this.dimensions.length).map(t=>({type:"line",stack:"1",symbolSize:1,showSymbol:!0,animationDuration:600,emphasis:{itemStyle:{shadowColor:"rgba(0, 0, 0, 1)",shadowOffsetX:2,symbolSize:5}},lineStyle:{width:.5,opacity:.8},areaStyle:{normal:{opacity:.75}}}))}_remitZonaHourlySeries(){return this.dimensions.slice(1,this.dimensions.length).map(t=>({type:"line",symbolSize:1,showSymbol:!0,barMaxWidth:14,barCategoryGap:"20%",animationDuration:600,emphasis:{itemStyle:{shadowColor:"rgba(0, 0, 0, 1)",shadowOffsetX:2,symbolSize:2}},itemStyle:{normal:{label:{show:!1},barBorderWidth:"0.4",barBorderColor:"#000",opacity:1,shadowColor:"rgba(0, 0, 0, 0.7)",shadowBlur:6,shadowOffsetX:2}}}))}oninit({attrs:t,state:e}){e.dimensions=[],e.source=[],e.elId=t.elId,e.background={type:"linear",x:-1,y:0,x2:2,y2:0,colorStops:[{offset:0,color:"rgba(28, 30, 40, 0.3)"},{offset:.4,color:"rgba(28, 30, 40, 0.3)"},{offset:.5,color:"rgba(50, 50, 50, 0.3)"},{offset:.7,color:"rgba(28, 30, 40, 0.3)"},{offset:1,color:"rgba(28, 30, 40, 0.3)"}]},e.title={show:!0,text:t.title,left:"center",y:"100",top:"16",textStyle:{fontSize:12,fontStyle:"italic",fontWeight:"bolder",color:"#F4F5F5"}},e.colors={termicoColor1:"rgb(154, 31, 26)",termicoColor2:"rgb(228, 93, 87)",termicoEmphasisColor1:"rgb(144, 21, 16)",termicoEmphasisColor2:"rgb(228, 93, 87)",pompaggioColor1:"rgb(0,92,59)",pompaggioColor2:"rgb(22,190,114)",pompaggioEmphasisColor1:"rgb(0,84,54)",pompaggioEmphasisColor2:"rgb(17,142,85)",idricoColor1:"rgb(0,119,144)",idricoColor2:"rgb(69,195,222)",idricoEmphasisColor1:"rgb(1,94,113)",idricoEmphasisColor2:"rgb(52,162,185)",autoproduttoreColor1:"rgb(85,72,184)",autoproduttoreColor2:"rgb(110,96,219)",autoproduttoreEmphasisColor1:"rgb(73,58,183)",autoproduttoreEmphasisColor2:"rgb(17,142,85)",eolicoColor1:"rgb(15,122,205)",eolicoColor2:"rgb(84,159,216)",eolicoEmphasisColor1:"rgb(3,107,186)",eolicoEmphasisColor2:"rgb(59,141,204)",solareColor1:"rgb(239,212,38)",solareColor2:"rgb(255,245,181)",solareEmphasisColor1:"rgb(209,163,19)",solareEmphasisColor2:"rgb(217,217, 87)",geotermicoColor1:"rgb(100,61,22)",geotermicoColor2:"rgb(178,123,67)",geotermicoEmphasisColor1:"rgb(89, 53, 16)",geotermicoEmphasisColor2:"rgb(217, 217, 87)"}}view({state:t}){return o(`.grafico#${t.elId}`)}oncreate({attrs:t,state:e}){let i=a.init(document.getElementById(e.elId),"dark",{height:300}),o=this._Option();window.onresize=i.resize,i.setOption(o,!0),t.data.react(t=>{t.then(t=>{e.dimensions=Object.keys(t[0]),e.source=t,i.setOption({dataset:{dimensions:e.dimensions,source:e.source},series:this._Series()})}).catch(t=>{console.log("Errore richiesta json remit",t)})})}}}).call(this,i(72),i(263),i(6))},91:function(t,e,i){"use strict";(function(t){i(251);e.a=class{constructor(){}view({attrs:e}){return t(".bx--checkbox-wrapper",[t(`input.bx--checkbox[id='${e.id}'][name='checkbox'][type='checkbox']`,{checked:e.checked,onchange:e.onchange}),t(`label.bx--checkbox-label[for='${e.id}']`,e.label)])}oncreate({attrs:t,state:e}){}}}).call(this,i(6))},93:function(t,e,i){"use strict";(function(t){i(245);var a=i(212),o=i.n(a);e.a=class{constructor(){}_columns(){return("linee"==this.type?["fold","nome","update","start","end"]:["fold","nome","company","tipo","sottotipo","update","start","end"]).map(t=>"fold"==t?this._columFold():this._column(t))}_column(t){return{title:t[0].toUpperCase()+t.slice(1),field:t,headerFilter:!0}}_columFold(){return{field:"fold",visible:!0,resizable:!1,headerSort:!1,align:"center",width:26,minWidth:26,cellClick:(t,e)=>{var i=e.getValue();e.getElement(),0==e.getValue()?e.getRow().getElement().lastElementChild.style.display="none":e.getRow().getElement().lastElementChild.style.display="",e.setValue(!i,!0)},formatter:(t,e,i)=>1==t.getValue()?"<svg width='10' height='5' viewBox='0 0 10 5'><path d='M0 0l5 4.998L10 0z'></path></svg>":"<svg width='10' height='5' viewBox='0 0 10 5'><path d='M0 5L5 .002 10 5z'></path></svg>"}}_formatRow(e){let i,a=e.getElement(),o=a.offsetWidth-40,r=e.getData(),{hours:s,...n}=r;var l=t(".table",{style:{display:"none",cursor:"auto"}},t(".hours-row.bx--type-legal",{style:{"padding-left":"25px"}},Object.keys(s).map(e=>t(".tabulator-cell",{style:{width:`${o/24+.6}px`,height:"20px","text-align":"center"}},[`${e}`]))),t(".hours-row.bx--type-legal",{style:{"padding-left":"25px",cursor:"auto"}},Object.values(s).map(e=>t(".tabulator-cell",{style:{width:`${o/24+.6}px`,height:"20px","text-align":"center"}},[`${0|e}`]))));i=document.createElement("div"),t.render(i,[l]),a.append(i.firstChild)}_rowClick(t,e){if(null==t.target.firstElementChild&&"path"!=t.target.tagName)return"linee"==this.type?appState.$selectLine.set(e.getData()):appState.$selectCentrale.set(e.getData())}oninit({attrs:t,state:e}){e.tabulator=null,e.tableData=null,e.type=t.type,e.titolo="linee"==t.type?`LINEE ${t.volt}`:"CENTRALI"}view({attrs:e,state:i}){return 0!=e.remit.length?t(".tbl",[t(".tbl__header",i.titolo),t(`#table_${i.type}${"linee"==i.type?e.volt:""}.table`)]):t("")}oncreate(t){var e=t.dom.children[1];t.state.tabulator=new o.a(e,{layout:"fitColumns",resizableColumns:!1,placeholder:"No Data Set",columns:this._columns(),rowFormatter:t=>this._formatRow(t),rowClick:(t,e)=>this._rowClick(t,e)}),t.attrs.remit.react(e=>{let i=("linee"==t.attrs.type?e.features:e).map(t=>({...t.properties,...{geometry:t.geometry}}));this.tabulator.setData(i)}),document.addEventListener("content-switcher-selected",e=>{"#tabelle"==e.target.getElementsByClassName("bx--content-switcher--selected")[0].getAttribute("data-target")&&t.state.tabulator.redraw()})}}}).call(this,i(6))}},[[234,1,2]]]);